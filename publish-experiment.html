<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>å‘å¸ƒå®éªŒ - è¯­eæ¡¥å®éªŒæ‹›å‹Ÿå¹³å°</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: "Microsoft YaHei", sans-serif;
        }
        
        :root {
            --primary: #4361ee;
            --primary-light: #eef2ff;
            --secondary: #3ccf91;
            --text-dark: #333333;
            --text-light: #666666;
            --bg-light: #f9fafb;
            --border-color: #e5e7eb;
            --experiment-primary: #005792;
            --experiment-light: #e1f5fe;
            --warning: #FF4D4F;
        }
        
        body {
            background-color: var(--bg-light);
            color: var(--text-dark);
        }
        
        .container {
            max-width: 1200px;
            margin: 0 auto;
            position: relative;
            padding: 0 20px;
        }
        
        /* é¡¶éƒ¨å¯¼èˆªæ  */
        .top-nav {
            background-color: white;
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 15px 30px;
            position: fixed;
            width: 100%;
            z-index: 100;
            box-shadow: 0 1px 3px rgba(0, 0, 0, 0.05);
            left: 0;
        }
        
        .logo {
            display: flex;
            align-items: center;
            font-size: 22px;
            font-weight: bold;
            color: var(--primary);
            text-decoration: none;
        }
        
        .nav-links {
            display: flex;
            list-style: none;
        }
        
        .nav-links li {
            margin: 0 15px;
        }
        
        .nav-links a {
            text-decoration: none;
            color: var(--text-dark);
            font-weight: 500;
            display: flex;
            align-items: center;
            transition: all 0.3s;
            padding: 8px 12px;
            border-radius: 6px;
        }
        
        .nav-links a:hover {
            color: var(--primary);
            background-color: var(--primary-light);
        }
        
        .nav-links a.active {
            color: var(--primary);
            background-color: var(--primary-light);
        }
        
        .nav-links i {
            margin-right: 8px;
        }
        
        .login-btn {
            background-color: var(--primary);
            color: white;
            padding: 10px 24px;
            border-radius: 6px;
            text-decoration: none;
            font-weight: 500;
            transition: all 0.3s;
        }
        
        .login-btn:hover {
            background-color: #3051d3;
            transform: translateY(-2px);
        }
        
        /* ä¸‹æ‹‰èœå• */
        .dropdown {
            position: relative;
            display: inline-block;
        }
        
        .dropdown-content {
            display: none;
            position: absolute;
            background-color: white;
            min-width: 160px;
            box-shadow: 0px 8px 16px 0px rgba(0,0,0,0.1);
            border-radius: 8px;
            z-index: 1;
            top: 100%;
            left: 0;
            margin-top: 5px;
            overflow: hidden;
        }
        
        .dropdown-content a {
            color: var(--text-dark);
            padding: 12px 16px;
            text-decoration: none;
            display: block;
            transition: all 0.2s;
        }
        
        .dropdown-content a:hover {
            background-color: var(--primary-light);
            color: var(--primary);
        }
        
        .dropdown:hover .dropdown-content {
            display: block;
        }
        
        .dropdown-icon {
            margin-left: 5px;
            font-size: 12px;
        }

        /* ä¸»è¦å†…å®¹åŒºåŸŸ */
        .main-content {
            display: flex;
            padding-top: 90px;
            min-height: 100vh;
            gap: 24px;
        }
        
        /* å·¦ä¾§å¯¼èˆªæ  */
        .sidebar {
            width: 220px;
            background-color: white;
            border-radius: 8px;
            padding: 20px;
            box-shadow: 0 1px 3px rgba(0, 0, 0, 0.05);
            height: fit-content;
            position: sticky;
            top: 100px;
        }
        
        .sidebar-title {
            font-size: 18px;
            font-weight: 600;
            margin-bottom: 20px;
            color: var(--experiment-primary);
            display: flex;
            align-items: center;
        }
        
        .sidebar-title i {
            margin-right: 10px;
        }
        
        .sidebar-menu {
            list-style: none;
        }
        
        .sidebar-menu li {
            margin-bottom: 10px;
        }
        
        .sidebar-menu a {
            display: flex;
            align-items: center;
            padding: 10px 15px;
            border-radius: 6px;
            text-decoration: none;
            color: var(--text-dark);
            font-weight: 500;
            transition: all 0.3s;
        }
        
        .sidebar-menu a:hover {
            background-color: var(--experiment-light);
            color: var(--experiment-primary);
        }
        
        .sidebar-menu a.active {
            background-color: var(--experiment-light);
            color: var(--experiment-primary);
        }
        
        .sidebar-menu i {
            margin-right: 10px;
            color: var(--experiment-primary);
        }
        
        /* å†…å®¹åŒºåŸŸ */
        .content-area {
            flex: 1;
        }
        
        .section-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
        }
        
        .section-title {
            font-size: 24px;
            font-weight: bold;
            color: var(--experiment-primary);
            display: flex;
            align-items: center;
        }
        
        .section-title i {
            margin-right: 10px;
        }
        
        .more-link {
            color: var(--experiment-primary);
            text-decoration: none;
            display: flex;
            align-items: center;
        }
        
        .more-link i {
            margin-left: 5px;
        }
        
        /* å‘å¸ƒè¡¨å•æ ·å¼ */
        .publish-form {
            background-color: white;
            border-radius: 10px;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.05);
            padding: 25px;
            margin-bottom: 30px;
        }
        
        .form-steps {
            display: flex;
            justify-content: space-between;
            margin-bottom: 30px;
        }
        
        .form-step {
            display: flex;
            flex-direction: column;
            align-items: center;
            flex: 1;
            position: relative;
        }
        
        .step-number {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            background-color: #f0f0f0;
            display: flex;
            justify-content: center;
            align-items: center;
            font-weight: bold;
            margin-bottom: 10px;
            position: relative;
            z-index: 2;
        }
        
        .form-step.active .step-number {
            background-color: var(--experiment-primary);
            color: white;
        }
        
        .form-step.completed .step-number {
            background-color: #4CAF50;
            color: white;
        }
        
        .step-label {
            font-size: 14px;
            color: #666;
        }
        
        .form-step.active .step-label {
            color: var(--experiment-primary);
            font-weight: 500;
        }
        
        .step-line {
            position: absolute;
            top: 20px;
            left: 50%;
            width: 100%;
            height: 2px;
            background-color: #f0f0f0;
            z-index: 1;
        }
        
        .form-step:last-child .step-line {
            display: none;
        }
        
        .form-step.active .step-line, .form-step.completed .step-line {
            background-color: var(--experiment-primary);
        }
        
        .form-section {
            display: none;
        }
        
        .form-section.active {
            display: block;
        }
        
        .form-title {
            font-size: 20px;
            font-weight: bold;
            margin-bottom: 20px;
            color: var(--text-dark);
        }
        
        .form-group {
            margin-bottom: 20px;
        }
        
        .form-label {
            display: block;
            font-weight: 500;
            margin-bottom: 8px;
        }
        
        .form-label .required {
            color: var(--warning);
            margin-left: 3px;
        }
        
        .form-input, .form-textarea, .form-select {
            width: 100%;
            padding: 12px;
            border: 1px solid #ddd;
            border-radius: 6px;
            font-size: 14px;
        }
        
        .form-input:focus, .form-textarea:focus, .form-select:focus {
            outline: none;
            border-color: var(--experiment-primary);
            box-shadow: 0 0 0 2px rgba(0, 87, 146, 0.2);
        }
        
        .form-textarea {
            min-height: 120px;
            resize: vertical;
        }
        
        .form-radio-group, .form-checkbox-group {
            display: flex;
            gap: 20px;
            margin-top: 5px;
        }
        
        .form-radio-label, .form-checkbox-label {
            display: flex;
            align-items: center;
            cursor: pointer;
        }
        
        .form-radio, .form-checkbox {
            margin-right: 5px;
        }
        
        .form-hint {
            font-size: 12px;
            color: #666;
            margin-top: 5px;
        }
        
        .form-error {
            color: var(--warning);
            font-size: 12px;
            margin-top: 5px;
            display: none;
        }
        
        .form-buttons {
            display: flex;
            justify-content: space-between;
            margin-top: 30px;
        }
        
        .form-btn {
            padding: 12px 20px;
            border: none;
            border-radius: 6px;
            font-weight: 500;
            cursor: pointer;
            transition: all 0.2s;
        }
        
        .form-btn.next {
            background-color: var(--experiment-primary);
            color: white;
        }
        
        .form-btn.next:hover {
            background-color: #004a7c;
        }
        
        .form-btn.prev {
            background-color: #f0f0f0;
            color: #333;
        }
        
        .form-btn.prev:hover {
            background-color: #e0e0e0;
        }
        
        .form-btn.submit {
            background-color: #4CAF50;
            color: white;
        }
        
        .form-btn.submit:hover {
            background-color: #3d8b40;
        }
        
        .form-upload {
            border: 2px dashed #ddd;
            border-radius: 6px;
            padding: 30px;
            text-align: center;
            cursor: pointer;
            transition: all 0.2s;
        }
        
        .form-upload:hover {
            border-color: var(--experiment-primary);
        }
        
        .form-upload i {
            font-size: 40px;
            color: #999;
            margin-bottom: 10px;
        }
        
        .form-upload-hint {
            font-size: 14px;
            color: #666;
        }
        
        .form-upload-subhint {
            font-size: 12px;
            color: #999;
            margin-top: 5px;
        }
        
        .form-summary {
            background-color: #f9f9f9;
            border-radius: 8px;
            padding: 20px;
            margin-bottom: 20px;
        }
        
        .summary-title {
            font-size: 16px;
            font-weight: bold;
            margin-bottom: 15px;
            display: flex;
            align-items: center;
        }
        
        .summary-title i {
            margin-right: 10px;
            color: var(--experiment-primary);
        }
        
        .summary-row {
            display: flex;
            margin-bottom: 10px;
        }
        
        .summary-label {
            font-weight: 500;
            width: 120px;
            flex-shrink: 0;
        }
        
        .summary-value {
            flex: 1;
        }
        
        /* æ»‘åŠ¨æ¡æ ·å¼ */
        .slider-container {
            width: 100%;
            margin: 15px 0;
        }
        
        .slider {
            -webkit-appearance: none;
            width: 100%;
            height: 6px;
            border-radius: 3px;
            background: #e0e0e0;
            outline: none;
        }
        
        .slider::-webkit-slider-thumb {
            -webkit-appearance: none;
            appearance: none;
            width: 18px;
            height: 18px;
            border-radius: 50%;
            background: var(--experiment-primary);
            cursor: pointer;
        }
        
        .slider::-moz-range-thumb {
            width: 18px;
            height: 18px;
            border-radius: 50%;
            background: var(--experiment-primary);
            cursor: pointer;
        }
        
        .slider-values {
            display: flex;
            justify-content: space-between;
            margin-top: 5px;
            font-size: 12px;
            color: #666;
        }
        
        .double-slider-container {
            position: relative;
            width: 100%;
            height: 40px;
        }
        
        .double-slider-track {
            position: absolute;
            top: 50%;
            transform: translateY(-50%);
            width: 100%;
            height: 6px;
            background-color: #e0e0e0;
            border-radius: 3px;
        }
        
        .double-slider-fill {
            position: absolute;
            top: 50%;
            transform: translateY(-50%);
            height: 6px;
            background-color: var(--experiment-primary);
            border-radius: 3px;
        }
        
        .double-slider {
            position: absolute;
            top: 50%;
            transform: translateY(-50%);
            width: 100%;
            -webkit-appearance: none;
            appearance: none;
            background: transparent;
            pointer-events: none;
        }
        
        .double-slider::-webkit-slider-thumb {
            -webkit-appearance: none;
            appearance: none;
            width: 18px;
            height: 18px;
            border-radius: 50%;
            background: var(--experiment-primary);
            cursor: pointer;
            pointer-events: auto;
        }
        
        .double-slider::-moz-range-thumb {
            width: 18px;
            height: 18px;
            border-radius: 50%;
            background: var(--experiment-primary);
            cursor: pointer;
            pointer-events: auto;
        }
        
        .double-slider-values {
            display: flex;
            justify-content: space-between;
            margin-top: 10px;
            font-size: 12px;
            color: #666;
        }
        
        .double-slider-current {
            text-align: center;
            font-weight: 500;
            color: var(--experiment-primary);
            font-size: 14px;
            margin-top: 5px;
        }
        
        /* æ¨¡æ€æ¡†æ ·å¼ */
        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.5);
            z-index: 1000;
            justify-content: center;
            align-items: center;
        }
        
        .modal.active {
            display: flex;
        }
        
        .modal-content {
            background-color: white;
            border-radius: 10px;
            width: 90%;
            max-width: 600px;
            max-height: 90vh;
            overflow-y: auto;
            padding: 25px;
        }
        
        .modal-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
        }
        
        .modal-title {
            font-size: 20px;
            font-weight: bold;
        }
        
        .modal-close {
            background: none;
            border: none;
            font-size: 24px;
            cursor: pointer;
            color: #666;
        }
        
        .modal-body {
            margin-bottom: 20px;
        }
        
        .modal-footer {
            display: flex;
            justify-content: flex-end;
            gap: 10px;
        }
        
        .modal-btn {
            padding: 10px 15px;
            border: none;
            border-radius: 6px;
            font-weight: 500;
            cursor: pointer;
            transition: all 0.2s;
        }
        
        .modal-btn.primary {
            background-color: var(--experiment-primary);
            color: white;
        }
        
        .modal-btn.primary:hover {
            background-color: #004a7c;
        }
        
        .modal-btn.secondary {
            background-color: #f0f0f0;
            color: #333;
        }
        
        .modal-btn.secondary:hover {
            background-color: #e0e0e0;
        }
        
        .consent-checkbox {
            display: flex;
            align-items: flex-start;
            margin-bottom: 20px;
        }
        
        .consent-checkbox input {
            margin-right: 10px;
            margin-top: 3px;
        }
        
        /* åŒ¹é…äººæ•°æç¤º */
        .match-hint {
            background-color: var(--experiment-light);
            color: var(--experiment-primary);
            padding: 8px 15px;
            border-radius: 20px;
            font-size: 14px;
            font-weight: 500;
            display: inline-flex;
            align-items: center;
            float: right;
        }
        
        .match-hint i {
            margin-right: 5px;
        }
        
        /* å“åº”å¼è°ƒæ•´ */
        @media (max-width: 900px) {
            .main-content {
                flex-direction: column;
            }
            
            .sidebar {
                width: 100%;
                position: static;
                margin-bottom: 20px;
            }
        }
        
        @media (max-width: 768px) {
            .form-radio-group, .form-checkbox-group {
                flex-direction: column;
                gap: 10px;
            }
            
            .form-buttons {
                flex-direction: column-reverse;
                gap: 10px;
            }
            
            .form-btn {
                width: 100%;
            }
        }
    </style>
</head>
<body>
    <!-- é¡¶éƒ¨å¯¼èˆªæ  -->
    <nav class="top-nav">
        <a href="index.html" class="logo">è¯­eæ¡¥</a>
        
        <ul class="nav-links">
            <li><a href="index.html"><i class="icon">ğŸ </i>é¦–é¡µ</a></li>
            <li><a href="languagepartner-search.html"><i class="icon">ğŸ‘«</i>è¯­ä¼´</a></li>
            <li class="dropdown">
                <a href="chat.html"><i class="icon">ğŸ’¬</i>èŠå¤©<span class="dropdown-icon">â–¼</span></a>
                <div class="dropdown-content">
                    <a href="ai-chat.html">AIè¯­ä¼´</a>
                    <a href="chat.html">è¯­ä¼´èŠå¤©</a>
                </div>
            </li>
            <li><a href="experiment.html" class="active"><i class="icon">ğŸ§ª</i>å®éªŒæ‹›å‹Ÿ</a></li>
            <li class="dropdown">
                <a href="community-resources.html"i class="icon">ğŸ“š</i>å­¦ä¹ ç¤¾åŒº<span class="dropdown-icon">â–¼</span></a>
                <div class="dropdown-content">
                    <a href="personal-publish.html">ä¸ªäººå‘å¸ƒ</a>
                    <a href="community-resources.html">ç¤¾åŒºèµ„æº</a>
                    <a href="learningpath.html">å­¦ä¹ è·¯å¾„</a>
                </div>
            </li>
            <li><a href="tutor-matching.html"><i class="icon">ğŸ‘¥</i>è½»è¾…å¯¼</a></li>
        </ul>
        
        <a href="login.html" class="login-btn">ç™»å½•</a>
    </nav>
    
    <div class="container">
        <div class="main-content">
            <!-- å·¦ä¾§å¯¼èˆªæ  -->
            <div class="sidebar">
                <h2 class="sidebar-title"><i>ğŸ§ª</i>å®éªŒæ‹›å‹Ÿ</h2>
                <ul class="sidebar-menu">
                    <li><a href="experiment.html"><i>ğŸ”</i>è¢«è¯•æ£€ç´¢</a></li>
                    <li><a href="experiment-detail.html"><i>ğŸ“‹</i>å®éªŒè¯¦æƒ…</a></li>
                    <li><a href="publish-experiment.html" class="active"><i>ğŸ“</i>ä¸»è¯•å‘å¸ƒ</a></li>
                    <li><a href="my-profile.html"><i>ğŸ‘¤</i>ä¸ªäººä¿¡æ¯</a></li>
                </ul>
            </div>
            
            <!-- å†…å®¹åŒºåŸŸ -->
            <div class="content-area">
                <div class="section-header">
                    <h2 class="section-title"><i>ğŸ“</i>ä¸»è¯•å‘å¸ƒ</h2>
                </div>
                
                <div class="publish-form">
                    <!-- æ­¥éª¤å¯¼èˆª -->
                    <div class="form-steps">
                        <div class="form-step active" id="step1">
                            <div class="step-number">1</div>
                            <div class="step-label">å®éªŒä¿¡æ¯</div>
                            <div class="step-line"></div>
                        </div>
                        <div class="form-step" id="step2">
                            <div class="step-number">2</div>
                            <div class="step-label">è¢«è¯•ç­›é€‰</div>
                            <div class="step-line"></div>
                        </div>
                        <div class="form-step" id="step3">
                            <div class="step-number">3</div>
                            <div class="step-label">å®¡æ ¸æäº¤</div>
                        </div>
                    </div>
                    
                    <!-- æ­¥éª¤1ï¼šå®éªŒä¿¡æ¯ -->
                    <div class="form-section active" id="section1">
                        <h2 class="form-title">å®éªŒè¯¦æƒ…</h2>
                        
                        <div class="form-group">
                            <label class="form-label">å®éªŒæ ‡é¢˜<span class="required">*</span></label>
                            <input type="text" class="form-input" id="experimentTitle" maxlength="20" placeholder="è¯·è¾“å…¥å®éªŒæ ‡é¢˜ï¼ˆ20å­—ä»¥å†…ï¼‰">
                            <div class="form-hint">å·²è¾“å…¥ <span id="titleCount">0</span>/20 å­—</div>
                            <div class="form-error" id="titleError">è¯·è¾“å…¥å®éªŒæ ‡é¢˜</div>
                        </div>
                        
                        <div class="form-group">
                            <label class="form-label">å®éªŒç®€ä»‹<span class="required">*</span></label>
                            <textarea class="form-textarea" id="experimentDesc" maxlength="300" placeholder="è¯·è¯¦ç»†æè¿°å®éªŒå†…å®¹ã€ç›®çš„å’Œæµç¨‹ï¼ˆ300å­—ä»¥å†…ï¼‰"></textarea>
                            <div class="form-hint">å·²è¾“å…¥ <span id="descCount">0</span>/300 å­—</div>
                            <div class="form-error" id="descError">è¯·è¾“å…¥å®éªŒç®€ä»‹</div>
                        </div>
                        
                        <div class="form-group">
                            <label class="form-label">å®éªŒç±»å‹<span class="required">*</span></label>
                            <div class="form-radio-group">
                                <label class="form-radio-label">
                                    <input type="radio" name="experimentType" value="online" class="form-radio" checked>
                                    çº¿ä¸Šå®éªŒ
                                </label>
                                <label class="form-radio-label">
                                    <input type="radio" name="experimentType" value="offline" class="form-radio">
                                    çº¿ä¸‹å®éªŒ
                                </label>
                            </div>
                        </div>
                        
                        <div class="form-group" id="locationGroup" style="display: none;">
                            <label class="form-label">å®éªŒåœ°ç‚¹<span class="required">*</span></label>
                            <input type="text" class="form-input" id="experimentLocation" placeholder="è¯·è¾“å…¥å®éªŒåœ°ç‚¹ï¼ˆå¦‚ï¼šåŒ—äº¬å¸ˆèŒƒå¤§å­¦ä¸»æ¥¼AåŒº504å®¤ï¼‰">
                            <div class="form-error" id="locationError">è¯·è¾“å…¥å®éªŒåœ°ç‚¹</div>
                        </div>
                        
                        <div class="form-group">
                            <label class="form-label">å®éªŒæ—¶é•¿<span class="required">*</span></label>
                            <input type="text" class="form-input" id="experimentDuration" placeholder="è¯·è¾“å…¥å®éªŒæ—¶é•¿ï¼ˆå¦‚ï¼šçº¦30åˆ†é’Ÿï¼‰">
                            <div class="form-error" id="durationError">è¯·è¾“å…¥å®éªŒæ—¶é•¿</div>
                        </div>
                        
                        <div class="form-group">
                            <div class="row">
                                <div style="width: 48%; float: left;">
                                    <label class="form-label">åŸºç¡€é…¬åŠ³(å…ƒ)<span class="required">*</span></label>
                                    <input type="number" class="form-input" id="basePayment" placeholder="è¯·è¾“å…¥åŸºç¡€é…¬åŠ³é‡‘é¢">
                                    <div class="form-error" id="paymentError">è¯·è¾“å…¥æœ‰æ•ˆçš„é…¬åŠ³é‡‘é¢</div>
                                </div>
                                <div style="width: 48%; float: right;">
                                    <label class="form-label">æµ®åŠ¨é…¬åŠ³è¯´æ˜</label>
                                    <input type="text" class="form-input" id="extraPayment" placeholder="å¦‚ï¼šå®Œæˆé¢å¤–ä»»åŠ¡å¯è·å¾—10å…ƒå¥–åŠ±">
                                </div>
                                <div style="clear: both;"></div>
                            </div>
                        </div>
                        
                        <div class="form-group">
                            <label class="form-label">æˆªæ­¢æ—¥æœŸ<span class="required">*</span></label>
                            <input type="date" class="form-input" id="deadlineDate">
                            <div class="form-error" id="deadlineError">è¯·é€‰æ‹©æˆªæ­¢æ—¥æœŸ</div>
                        </div>
                        
                        <div class="form-group">
                            <label class="form-label">æ‹›å‹Ÿäººæ•°<span class="required">*</span></label>
                            <input type="number" class="form-input" id="participantCount" placeholder="è¯·è¾“å…¥éœ€è¦æ‹›å‹Ÿçš„è¢«è¯•äººæ•°">
                            <div class="form-error" id="countError">è¯·è¾“å…¥æœ‰æ•ˆçš„æ‹›å‹Ÿäººæ•°</div>
                        </div>
                        
                        <div class="form-group">
                            <label class="form-label">å®éªŒå°é¢å›¾</label>
                            <div class="form-upload" id="imageUpload">
                                <i>ğŸ“¤</i>
                                <div class="form-upload-hint">ç‚¹å‡»æˆ–æ‹–æ‹½ä¸Šä¼ å›¾ç‰‡</div>
                                <div class="form-upload-subhint">æ”¯æŒ JPGã€PNG æ ¼å¼ï¼Œå»ºè®®å°ºå¯¸ 800x400px</div>
                            </div>
                            <div id="imagePreview" style="display: none; margin-top: 15px; text-align: center;">
                                <img src="/placeholder.svg" alt="å°é¢é¢„è§ˆ" style="max-width: 100%; max-height: 200px; border-radius: 6px;">
                                <button class="form-btn prev" style="margin-top: 10px;" id="removeImage">ç§»é™¤å›¾ç‰‡</button>
                            </div>
                            <input type="file" id="imageInput" accept="image/*" style="display: none;">
                        </div>
                        
                        <div class="form-buttons">
                            <div></div>
                            <button class="form-btn next" id="nextBtn1">ä¸‹ä¸€æ­¥</button>
                        </div>
                    </div>
                    
                    <!-- æ­¥éª¤2ï¼šè¢«è¯•ç­›é€‰ -->
                    <div class="form-section" id="section2">
                        <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 20px;">
                            <h2 class="form-title">è¢«è¯•ç­›é€‰æ¡ä»¶</h2>
                            <div class="match-hint">
                                <i>ğŸ‘¥</i>
                                é¢„ä¼°åŒ¹é…: <span id="matchCount">100</span> äºº
                            </div>
                        </div>
                        
                        <div class="form-group">
                            <label class="form-label">æ€§åˆ«</label>
                            <div class="form-radio-group">
                                <label class="form-radio-label">
                                    <input type="radio" name="gender" value="all" class="form-radio" checked>
                                    ä¸é™
                                </label>
                                <label class="form-radio-label">
                                    <input type="radio" name="gender" value="male" class="form-radio">
                                    ç”·
                                </label>
                                <label class="form-radio-label">
                                    <input type="radio" name="gender" value="female" class="form-radio">
                                    å¥³
                                </label>
                            </div>
                        </div>
                        
                        <div class="form-group">
                            <label class="form-label">å¹´é¾„èŒƒå›´</label>
                            <div class="double-slider-container">
                                <div class="double-slider-track"></div>
                                <div class="double-slider-fill" id="ageSliderFill" style="left: 18%; width: 42%;"></div>
                                <input type="range" min="0" max="100" value="18" class="double-slider" id="ageSliderMin">
                                <input type="range" min="0" max="100" value="60" class="double-slider" id="ageSliderMax">
                            </div>
                            <div class="double-slider-values">
                                <span>0å²</span>
                                <span>100å²</span>
                            </div>
                            <div class="double-slider-current">
                                å½“å‰é€‰æ‹©: <span id="ageRangeValue">18å² - 60å²</span>
                            </div>
                        </div>
                        
                        <div class="form-group">
                            <label class="form-label">å›½ç±<span class="required">*</span></label>
                            <select class="form-select" id="continentSelect">
                                <option value="">é€‰æ‹©å¤§æ´²</option>
                                <option value="asia">äºšæ´²</option>
                                <option value="europe">æ¬§æ´²</option>
                                <option value="america">ç¾æ´²</option>
                                <option value="africa">éæ´²</option>
                                <option value="oceania">å¤§æ´‹æ´²</option>
                            </select>
                            
                            <div id="countriesContainer" style="margin-top: 10px;">
                                <div class="form-hint" id="countryHint">è¯·å…ˆé€‰æ‹©å¤§æ´²</div>
                                <div id="countryCheckboxes" style="display: none; margin-top: 10px;"></div>
                            </div>
                            <div class="form-error" id="countryError">è¯·è‡³å°‘é€‰æ‹©ä¸€ä¸ªå›½å®¶</div>
                        </div>
                        
                        <div class="form-group">
                            <label class="form-label">æ¯è¯­<span class="required">*</span></label>
                            <div class="form-checkbox-group" style="flex-wrap: wrap;">
                                <label class="form-checkbox-label">
                                    <input type="checkbox" name="language" value="english" class="form-checkbox">
                                    è‹±è¯­
                                </label>
                                <label class="form-checkbox-label">
                                    <input type="checkbox" name="language" value="french" class="form-checkbox">
                                    æ³•è¯­
                                </label>
                                <label class="form-checkbox-label">
                                    <input type="checkbox" name="language" value="german" class="form-checkbox">
                                    å¾·è¯­
                                </label>
                                <label class="form-checkbox-label">
                                    <input type="checkbox" name="language" value="spanish" class="form-checkbox">
                                    è¥¿ç­ç‰™è¯­
                                </label>
                                <label class="form-checkbox-label">
                                    <input type="checkbox" name="language" value="italian" class="form-checkbox">
                                    æ„å¤§åˆ©è¯­
                                </label>
                                <label class="form-checkbox-label">
                                    <input type="checkbox" name="language" value="russian" class="form-checkbox">
                                    ä¿„è¯­
                                </label>
                                <label class="form-checkbox-label">
                                    <input type="checkbox" name="language" value="japanese" class="form-checkbox">
                                    æ—¥è¯­
                                </label>
                                <label class="form-checkbox-label">
                                    <input type="checkbox" name="language" value="korean" class="form-checkbox">
                                    éŸ©è¯­
                                </label>
                            </div>
                            <div class="form-error" id="languageError">è¯·è‡³å°‘é€‰æ‹©ä¸€ç§æ¯è¯­</div>
                        </div>
                        
                        <div class="form-group">
                            <label class="form-label">HSKç­‰çº§<span class="required">*</span></label>
                            <div class="form-checkbox-group">
                                <label class="form-checkbox-label">
                                    <input type="checkbox" name="hsk" value="1" class="form-checkbox">
                                    1çº§
                                </label>
                                <label class="form-checkbox-label">
                                    <input type="checkbox" name="hsk" value="2" class="form-checkbox">
                                    2çº§
                                </label>
                                <label class="form-checkbox-label">
                                    <input type="checkbox" name="hsk" value="3" class="form-checkbox">
                                    3çº§
                                </label>
                                <label class="form-checkbox-label">
                                    <input type="checkbox" name="hsk" value="4" class="form-checkbox">
                                    4çº§
                                </label>
                                <label class="form-checkbox-label">
                                    <input type="checkbox" name="hsk" value="5" class="form-checkbox">
                                    5çº§
                                </label>
                                <label class="form-checkbox-label">
                                    <input type="checkbox" name="hsk" value="6" class="form-checkbox">
                                    6çº§
                                </label>
                            </div>
                            <div class="form-error" id="hskError">è¯·è‡³å°‘é€‰æ‹©ä¸€ä¸ªHSKç­‰çº§</div>
                        </div>
                        
                        <div class="form-group">
                            <label class="form-label">å…¶ä»–è¦æ±‚</label>
                            <textarea class="form-textarea" id="otherRequirements" placeholder="è¯·è¾“å…¥å…¶ä»–ç‰¹æ®Šè¦æ±‚ï¼ˆå¦‚ï¼šéœ€è¦æœ‰åŸºæœ¬çš„æ±‰è¯­å¬åŠ›èƒ½åŠ›ï¼‰"></textarea>
                        </div>
                        
                        <div class="form-buttons">
                            <button class="form-btn prev" id="prevBtn2">ä¸Šä¸€æ­¥</button>
                            <button class="form-btn next" id="nextBtn2">ä¸‹ä¸€æ­¥</button>
                        </div>
                    </div>
                    
                    <!-- æ­¥éª¤3ï¼šå®¡æ ¸æäº¤ -->
                    <div class="form-section" id="section3">
                        <h2 class="form-title">å®¡æ ¸æäº¤</h2>
                        
                        <div class="form-summary">
                            <div class="summary-title">
                                <i>ğŸ“‹</i>å®éªŒä¿¡æ¯ç¡®è®¤
                            </div>
                            
                            <div class="summary-row">
                                <div class="summary-label">å®éªŒæ ‡é¢˜:</div>
                                <div class="summary-value" id="summaryTitle"></div>
                            </div>
                            
                            <div class="summary-row">
                                <div class="summary-label">å®éªŒç±»å‹:</div>
                                <div class="summary-value" id="summaryType"></div>
                            </div>
                            
                            <div class="summary-row" id="summaryLocationRow" style="display: none;">
                                <div class="summary-label">å®éªŒåœ°ç‚¹:</div>
                                <div class="summary-value" id="summaryLocation"></div>
                            </div>
                            
                            <div class="summary-row">
                                <div class="summary-label">å®éªŒæ—¶é•¿:</div>
                                <div class="summary-value" id="summaryDuration"></div>
                            </div>
                            
                            <div class="summary-row">
                                <div class="summary-label">é…¬åŠ³:</div>
                                <div class="summary-value" id="summaryPayment"></div>
                            </div>
                            
                            <div class="summary-row">
                                <div class="summary-label">æˆªæ­¢æ—¥æœŸ:</div>
                                <div class="summary-value" id="summaryDeadline"></div>
                            </div>
                            
                            <div class="summary-row">
                                <div class="summary-label">æ‹›å‹Ÿäººæ•°:</div>
                                <div class="summary-value" id="summaryCount"></div>
                            </div>
                            
                            <div class="summary-row">
                                <div class="summary-label">å®éªŒç®€ä»‹:</div>
                                <div class="summary-value" id="summaryDesc"></div>
                            </div>
                        </div>
                        
                        <div class="form-summary">
                            <div class="summary-title">
                                <i>ğŸ”</i>ç­›é€‰æ¡ä»¶ç¡®è®¤
                            </div>
                            
                            <div class="summary-row">
                                <div class="summary-label">æ€§åˆ«è¦æ±‚:</div>
                                <div class="summary-value" id="summaryGender"></div>
                            </div>
                            
                            <div class="summary-row">
                                <div class="summary-label">å¹´é¾„èŒƒå›´:</div>
                                <div class="summary-value" id="summaryAge"></div>
                            </div>
                            
                            <div class="summary-row">
                                <div class="summary-label">å›½ç±è¦æ±‚:</div>
                                <div class="summary-value" id="summaryCountry"></div>
                            </div>
                            
                            <div class="summary-row">
                                <div class="summary-label">æ¯è¯­è¦æ±‚:</div>
                                <div class="summary-value" id="summaryLanguage"></div>
                            </div>
                            
                            <div class="summary-row">
                                <div class="summary-label">HSKç­‰çº§:</div>
                                <div class="summary-value" id="summaryHSK"></div>
                            </div>
                            
                            <div class="summary-row" id="summaryOtherRow" style="display: none;">
                                <div class="summary-label">å…¶ä»–è¦æ±‚:</div>
                                <div class="summary-value" id="summaryOther"></div>
                            </div>
                        </div>
                        
                        <div class="form-summary" style="background-color: #fff9e6; border: 1px solid #ffe58f;">
                            <div class="summary-title" style="color: #d48806;">
                                <i>âš ï¸</i>ä¼¦ç†å®¡æ ¸è¯´æ˜
                            </div>
                            
                            <p style="margin-bottom: 15px;">æ‚¨çš„å®éªŒå°†åœ¨æäº¤åè¿›å…¥ä¼¦ç†å®¡æ ¸æµç¨‹ï¼Œå®¡æ ¸é€šè¿‡åæ‰ä¼šæ­£å¼å‘å¸ƒã€‚è¯·ç¡®ä¿æ‚¨çš„å®éªŒç¬¦åˆä»¥ä¸‹è¦æ±‚ï¼š</p>
                            
                            <ul style="list-style-type: disc; padding-left: 20px; margin-bottom: 0;">
                                <li style="margin-bottom: 8px;">å®éªŒä¸ä¼šå¯¹å‚ä¸è€…é€ æˆèº«ä½“æˆ–å¿ƒç†ä¼¤å®³</li>
                                <li style="margin-bottom: 8px;">å®éªŒç›®çš„å’Œæµç¨‹å·²åœ¨å®éªŒç®€ä»‹ä¸­æ¸…æ™°è¯´æ˜</li>
                                <li style="margin-bottom: 8px;">å‚ä¸è€…çš„ä¸ªäººä¿¡æ¯å°†è¢«å¦¥å–„ä¿æŠ¤</li>
                                <li style="margin-bottom: 8px;">å®éªŒé…¬åŠ³åˆç†ä¸”ä¸å®éªŒæ—¶é•¿ç›¸ç¬¦</li>
                                <li>å·²å‡†å¤‡å¥½çŸ¥æƒ…åŒæ„ä¹¦ä¾›å‚ä¸è€…é˜…è¯»å’Œç­¾ç½²</li>
                            </ul>
                        </div>
                        
                        <div class="form-buttons">
                            <button class="form-btn prev" id="prevBtn3">ä¸Šä¸€æ­¥</button>
                            <button class="form-btn submit" id="submitBtn">æäº¤å®¡æ ¸</button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    
    <!-- é£é™©çŸ¥æƒ…ä¹¦æ¨¡æ€æ¡† -->
    <div class="modal active" id="consentModal">
        <div class="modal-content">
            <div class="modal-header">
                <h3 class="modal-title">å®éªŒå‘å¸ƒé£é™©çŸ¥æƒ…ä¹¦</h3>
                <button class="modal-close" id="closeModal">Ã—</button>
            </div>
            <div class="modal-body">
                <h4 style="margin-bottom: 10px;">å®éªŒä¼¦ç†è¦æ±‚</h4>
                <p style="margin-bottom: 15px;">ä½œä¸ºå®éªŒå‘å¸ƒè€…ï¼Œæ‚¨å¿…é¡»ç¡®ä¿æ‚¨çš„å®éªŒç¬¦åˆåŸºæœ¬çš„ä¼¦ç†å‡†åˆ™ï¼Œä¸ä¼šå¯¹å‚ä¸è€…é€ æˆèº«ä½“æˆ–å¿ƒç†ä¼¤å®³ã€‚æ‚¨éœ€è¦å‘å‚ä¸è€…æä¾›æ¸…æ™°çš„å®éªŒç›®çš„ã€æµç¨‹å’Œé£é™©è¯´æ˜ï¼Œå¹¶è·å¾—ä»–ä»¬çš„çŸ¥æƒ…åŒæ„ã€‚</p>
                
                <h4 style="margin-bottom: 10px;">æ•°æ®ä¿æŠ¤</h4>
                <p style="margin-bottom: 15px;">æ‚¨æœ‰è´£ä»»ä¿æŠ¤å‚ä¸è€…çš„ä¸ªäººä¿¡æ¯å’Œå®éªŒæ•°æ®çš„å®‰å…¨ã€‚æœªç»å‚ä¸è€…åŒæ„ï¼Œä¸å¾—å°†å…¶ä¸ªäººä¿¡æ¯ç”¨äºå®éªŒä»¥å¤–çš„ç›®çš„æˆ–å‘ç¬¬ä¸‰æ–¹æŠ«éœ²ã€‚</p>
                
                <h4 style="margin-bottom: 10px;">é…¬åŠ³å‘æ”¾</h4>
                <p style="margin-bottom: 15px;">æ‚¨å¿…é¡»æŒ‰ç…§å®éªŒè¯´æ˜ä¸­æ‰¿è¯ºçš„é‡‘é¢å’Œæ–¹å¼å‘å®Œæˆå®éªŒçš„å‚ä¸è€…å‘æ”¾é…¬åŠ³ã€‚ä¸å¾—æ— æ•…æ‹–å»¶æˆ–æ‹’ç»æ”¯ä»˜é…¬åŠ³ã€‚</p>
                
                <h4 style="margin-bottom: 10px;">å®¡æ ¸æµç¨‹</h4>
                <p style="margin-bottom: 15px;">æ‚¨çš„å®éªŒå°†ç»è¿‡å¹³å°çš„ä¼¦ç†å®¡æ ¸ï¼Œå®¡æ ¸é€šè¿‡åæ‰èƒ½å‘å¸ƒã€‚å¦‚æœ‰å¿…è¦ï¼Œå¹³å°å¯èƒ½ä¼šè¦æ±‚æ‚¨æä¾›æ›´å¤šä¿¡æ¯æˆ–ä¿®æ”¹å®éªŒè®¾è®¡ã€‚</p>
                
                <h4 style="margin-bottom: 10px;">è´£ä»»å£°æ˜</h4>
                <p style="margin-bottom: 15px;">æ‚¨å¯¹å®éªŒå†…å®¹å’Œç»“æœè´Ÿå…¨éƒ¨è´£ä»»ã€‚å¦‚å› å®éªŒè®¾è®¡æˆ–æ‰§è¡Œä¸å½“å¯¼è‡´ä»»ä½•çº çº·æˆ–æŸå®³ï¼Œå¹³å°ä¸æ‰¿æ‹…ç›¸å…³è´£ä»»ã€‚</p>
                
                <div class="consent-checkbox">
                    <input type="checkbox" id="consentCheck">
                    <label for="consentCheck">æˆ‘å·²é˜…è¯»å¹¶åŒæ„ä¸Šè¿°çŸ¥æƒ…åŒæ„ä¹¦çš„å†…å®¹</label>
                </div>
            </div>
            <div class="modal-footer">
                <button class="modal-btn secondary" id="cancelBtn">å–æ¶ˆ</button>
                <button class="modal-btn primary" id="agreeBtn">åŒæ„å¹¶ç»§ç»­</button>
            </div>
        </div>
    </div>
    
    <script>
        // é£é™©çŸ¥æƒ…ä¹¦æ¨¡æ€æ¡†
        const consentModal = document.getElementById('consentModal');
        const closeModal = document.getElementById('closeModal');
        const cancelBtn = document.getElementById('cancelBtn');
        const agreeBtn = document.getElementById('agreeBtn');
        const consentCheck = document.getElementById('consentCheck');
        
        closeModal.addEventListener('click', function() {
            window.location.href = 'experiment.html';
        });
        
        cancelBtn.addEventListener('click', function() {
            window.location.href = 'experiment.html';
        });
        
        agreeBtn.addEventListener('click', function() {
            if (!consentCheck.checked) {
                alert('è¯·é˜…è¯»å¹¶åŒæ„çŸ¥æƒ…åŒæ„ä¹¦');
                return;
            }
            
            consentModal.classList.remove('active');
        });
        
        // æ­¥éª¤åˆ‡æ¢
        const step1 = document.getElementById('step1');
        const step2 = document.getElementById('step2');
        const step3 = document.getElementById('step3');
        
        const section1 = document.getElementById('section1');
        const section2 = document.getElementById('section2');
        const section3 = document.getElementById('section3');
        
        const nextBtn1 = document.getElementById('nextBtn1');
        const nextBtn2 = document.getElementById('nextBtn2');
        const prevBtn2 = document.getElementById('prevBtn2');
        const prevBtn3 = document.getElementById('prevBtn3');
        const submitBtn = document.getElementById('submitBtn');
        
        nextBtn1.addEventListener('click', function() {
            // éªŒè¯ç¬¬ä¸€æ­¥è¡¨å•
            if (validateStep1()) {
                section1.classList.remove('active');
                section2.classList.add('active');
                
                step1.classList.add('completed');
                step2.classList.add('active');
                
                // æ›´æ–°æ‘˜è¦ä¿¡æ¯
                updateSummary();
            }
        });
        
        nextBtn2.addEventListener('click', function() {
            // éªŒè¯ç¬¬äºŒæ­¥è¡¨å•
            if (validateStep2()) {
                section2.classList.remove('active');
                section3.classList.add('active');
                
                step2.classList.add('completed');
                step3.classList.add('active');
                
                // æ›´æ–°æ‘˜è¦ä¿¡æ¯
                updateSummary();
            }
        });
        
        prevBtn2.addEventListener('click', function() {
            section2.classList.remove('active');
            section1.classList.add('active');
            
            step2.classList.remove('active');
        });
        
        prevBtn3.addEventListener('click', function() {
            section3.classList.remove('active');
            section2.classList.add('active');
            
            step3.classList.remove('active');
        });
        
        submitBtn.addEventListener('click', function() {
            alert('æ‚¨çš„å®éªŒå·²æäº¤å®¡æ ¸ï¼Œè¯·ç­‰å¾…å®¡æ ¸ç»“æœã€‚');
            window.location.href = 'experiment.html';
        });
        
        // è¡¨å•éªŒè¯
        function validateStep1() {
            let isValid = true;
            
            // éªŒè¯å®éªŒæ ‡é¢˜
            const title = document.getElementById('experimentTitle').value.trim();
            if (title === '') {
                document.getElementById('titleError').style.display = 'block';
                isValid = false;
            } else {
                document.getElementById('titleError').style.display = 'none';
            }
            
            // éªŒè¯å®éªŒç®€ä»‹
            const desc = document.getElementById('experimentDesc').value.trim();
            if (desc === '') {
                document.getElementById('descError').style.display = 'block';
                isValid = false;
            } else {
                document.getElementById('descError').style.display = 'none';
            }
            
            // éªŒè¯å®éªŒåœ°ç‚¹ï¼ˆå¦‚æœæ˜¯çº¿ä¸‹å®éªŒï¼‰
            const type = document.querySelector('input[name="experimentType"]:checked').value;
            if (type === 'offline') {
                const location = document.getElementById('experimentLocation').value.trim();
                if (location === '') {
                    document.getElementById('locationError').style.display = 'block';
                    isValid = false;
                } else {
                    document.getElementById('locationError').style.display = 'none';
                }
            }
            
            // éªŒè¯å®éªŒæ—¶é•¿
            const duration = document.getElementById('experimentDuration').value.trim();
            if (duration === '') {
                document.getElementById('durationError').style.display = 'block';
                isValid = false;
            } else {
                document.getElementById('durationError').style.display = 'none';
            }
            
            // éªŒè¯åŸºç¡€é…¬åŠ³
            const payment = document.getElementById('basePayment').value.trim();
            if (payment === '' || isNaN(payment) || Number(payment) <= 0) {
                document.getElementById('paymentError').style.display = 'block';
                isValid = false;
            } else {
                document.getElementById('paymentError').style.display = 'none';
            }
            
            // éªŒè¯æˆªæ­¢æ—¥æœŸ
            const deadline = document.getElementById('deadlineDate').value;
            if (deadline === '') {
                document.getElementById('deadlineError').style.display = 'block';
                isValid = false;
            } else {
                document.getElementById('deadlineError').style.display = 'none';
            }
            
            // éªŒè¯æ‹›å‹Ÿäººæ•°
            const count = document.getElementById('participantCount').value.trim();
            if (count === '' || isNaN(count) || Number(count) <= 0) {
                document.getElementById('countError').style.display = 'block';
                isValid = false;
            } else {
                document.getElementById('countError').style.display = 'none';
            }
            
            return isValid;
        }
        
        function validateStep2() {
            let isValid = true;
            
            // éªŒè¯å›½ç±
            const selectedCountries = document.querySelectorAll('input[name="country"]:checked');
            if (selectedCountries.length === 0) {
                document.getElementById('countryError').style.display = 'block';
                isValid = false;
            } else {
                document.getElementById('countryError').style.display = 'none';
            }
            
            // éªŒè¯æ¯è¯­
            const selectedLanguages = document.querySelectorAll('input[name="language"]:checked');
            if (selectedLanguages.length === 0) {
                document.getElementById('languageError').style.display = 'block';
                isValid = false;
            } else {
                document.getElementById('languageError').style.display = 'none';
            }
            
            // éªŒè¯HSKç­‰çº§
            const selectedHSK = document.querySelectorAll('input[name="hsk"]:checked');
            if (selectedHSK.length === 0) {
                document.getElementById('hskError').style.display = 'block';
                isValid = false;
            } else {
                document.getElementById('hskError').style.display = 'none';
            }
            
            return isValid;
        }
        
        // æ›´æ–°æ‘˜è¦ä¿¡æ¯
        function updateSummary() {
            // å®éªŒä¿¡æ¯
            document.getElementById('summaryTitle').textContent = document.getElementById('experimentTitle').value;
            
            const type = document.querySelector('input[name="experimentType"]:checked').value;
            document.getElementById('summaryType').textContent = type === 'online' ? 'çº¿ä¸Šå®éªŒ' : 'çº¿ä¸‹å®éªŒ';
            
            if (type === 'offline') {
                document.getElementById('summaryLocationRow').style.display = 'flex';
                document.getElementById('summaryLocation').textContent = document.getElementById('experimentLocation').value;
            } else {
                document.getElementById('summaryLocationRow').style.display = 'none';
            }
            
            document.getElementById('summaryDuration').textContent = document.getElementById('experimentDuration').value;
            
            const basePayment = document.getElementById('basePayment').value;
            const extraPayment = document.getElementById('extraPayment').value;
            document.getElementById('summaryPayment').textContent = `Â¥${basePayment} ${extraPayment ? `(${extraPayment})` : ''}`;
            
            const deadline = document.getElementById('deadlineDate').value;
            document.getElementById('summaryDeadline').textContent = deadline;
            
            document.getElementById('summaryCount').textContent = `${document.getElementById('participantCount').value}äºº`;
            
            document.getElementById('summaryDesc').textContent = document.getElementById('experimentDesc').value;
            
            // ç­›é€‰æ¡ä»¶
            const gender = document.querySelector('input[name="gender"]:checked').value;
            document.getElementById('summaryGender').textContent = gender === 'all' ? 'ä¸é™' : gender === 'male' ? 'ç”·' : 'å¥³';
            
            document.getElementById('summaryAge').textContent = document.getElementById('ageRangeValue').textContent;
            
            // å›½ç±
            const countries = [];
            document.querySelectorAll('input[name="country"]:checked').forEach(function(checkbox) {
                countries.push(checkbox.value);
            });
            document.getElementById('summaryCountry').textContent = countries.join(', ');
            
            // æ¯è¯­
            const languages = [];
            document.querySelectorAll('input[name="language"]:checked').forEach(function(checkbox) {
                languages.push(checkbox.parentElement.textContent.trim());
            });
            document.getElementById('summaryLanguage').textContent = languages.join(', ');
            
            // HSKç­‰çº§
            const hskLevels = [];
            document.querySelectorAll('input[name="hsk"]:checked').forEach(function(checkbox) {
                hskLevels.push(checkbox.parentElement.textContent.trim());
            });
            document.getElementById('summaryHSK').textContent = hskLevels.join(', ');
            
            // å…¶ä»–è¦æ±‚
            const otherRequirements = document.getElementById('otherRequirements').value.trim();
            if (otherRequirements) {
                document.getElementById('summaryOtherRow').style.display = 'flex';
                document.getElementById('summaryOther').textContent = otherRequirements;
            } else {
                document.getElementById('summaryOtherRow').style.display = 'none';
            }
        }
        
        // å®éªŒç±»å‹åˆ‡æ¢
        const experimentTypeRadios = document.querySelectorAll('input[name="experimentType"]');
        experimentTypeRadios.forEach(function(radio) {
            radio.addEventListener('change', function() {
                if (this.value === 'offline') {
                    document.getElementById('locationGroup').style.display = 'block';
                } else {
                    document.getElementById('locationGroup').style.display = 'none';
                }
            });
        });
        
        // å­—æ•°ç»Ÿè®¡
        const experimentTitle = document.getElementById('experimentTitle');
        const titleCount = document.getElementById('titleCount');
        
        experimentTitle.addEventListener('input', function() {
            titleCount.textContent = this.value.length;
        });
        
        const experimentDesc = document.getElementById('experimentDesc');
        const descCount = document.getElementById('descCount');
        
        experimentDesc.addEventListener('input', function() {
            descCount.textContent = this.value.length;
        });
        
        // å›¾ç‰‡ä¸Šä¼ 
        const imageUpload = document.getElementById('imageUpload');
        const imageInput = document.getElementById('imageInput');
        const imagePreview = document.getElementById('imagePreview');
        const removeImage = document.getElementById('removeImage');
        
        imageUpload.addEventListener('click', function() {
            imageInput.click();
        });
        
        imageInput.addEventListener('change', function() {
            if (this.files && this.files[0]) {
                const reader = new FileReader();
                
                reader.onload = function(e) {
                    imagePreview.querySelector('img').src = e.target.result;
                    imageUpload.style.display = 'none';
                    imagePreview.style.display = 'block';
                };
                
                reader.readAsDataURL(this.files[0]);
            }
        });
        
        removeImage.addEventListener('click', function() {
            imageInput.value = '';
            imagePreview.style.display = 'none';
            imageUpload.style.display = 'block';
        });
        
        // å¹´é¾„æ»‘åŠ¨æ¡
        const ageSliderMin = document.getElementById('ageSliderMin');
        const ageSliderMax = document.getElementById('ageSliderMax');
        const ageSliderFill = document.getElementById('ageSliderFill');
        const ageRangeValue = document.getElementById('ageRangeValue');
        
        function updateAgeSlider() {
            const minVal = parseInt(ageSliderMin.value);
            const maxVal = parseInt(ageSliderMax.value);
            
            if (minVal > maxVal) {
                ageSliderMax.value = minVal;
            }
            
            const minPercent = (minVal / 100) * 100;
            const maxPercent = (parseInt(ageSliderMax.value) / 100) * 100;
            
            ageSliderFill.style.left = minPercent + '%';
            ageSliderFill.style.width = (maxPercent - minPercent) + '%';
            
            ageRangeValue.textContent = minVal + 'å² - ' + ageSliderMax.value + 'å²';
        }
        
        ageSliderMin.addEventListener('input', updateAgeSlider);
        ageSliderMax.addEventListener('input', updateAgeSlider);
        
        // å¤§æ´²å’Œå›½å®¶è”åŠ¨
        const continentCountries = {
            asia: ['ä¸­å›½', 'æ—¥æœ¬', 'éŸ©å›½', 'æ³°å›½', 'è¶Šå—'],
            europe: ['è‹±å›½', 'æ³•å›½', 'å¾·å›½', 'æ„å¤§åˆ©', 'è¥¿ç­ç‰™'],
            america: ['ç¾å›½', 'åŠ æ‹¿å¤§', 'å¢¨è¥¿å“¥', 'å·´è¥¿', 'é˜¿æ ¹å»·'],
            africa: ['åŸƒåŠ', 'å—é', 'å°¼æ—¥åˆ©äºš', 'è‚¯å°¼äºš', 'æ‘©æ´›å“¥'],
            oceania: ['æ¾³å¤§åˆ©äºš', 'æ–°è¥¿å…°', 'æ–æµ', 'å·´å¸ƒäºšæ–°å‡ å†…äºš']
        };
        
        const continentSelect = document.getElementById('continentSelect');
        const countryCheckboxes = document.getElementById('countryCheckboxes');
        const countryHint = document.getElementById('countryHint');
        
        continentSelect.addEventListener('change', function() {
            const selectedContinent = this.value;
            
            // æ¸…ç©ºå›½å®¶å¤é€‰æ¡†
            countryCheckboxes.innerHTML = '';
            
            if (selectedContinent) {
                // æ˜¾ç¤ºå›½å®¶å¤é€‰æ¡†
                countryHint.style.display = 'none';
                countryCheckboxes.style.display = 'block';
                
                // æ·»åŠ å¯¹åº”å¤§æ´²çš„å›½å®¶
                continentCountries[selectedContinent].forEach(country => {
                    const label = document.createElement('label');
                    label.className = 'form-checkbox-label';
                    label.style.marginRight = '10px';
                    label.style.marginBottom = '10px';
                    label.style.display = 'inline-flex';
                    
                    const input = document.createElement('input');
                    input.type = 'checkbox';
                    input.name = 'country';
                    input.value = country;
                    input.className = 'form-checkbox';
                    
                    label.appendChild(input);
                    label.appendChild(document.createTextNode(' ' + country));
                    
                    countryCheckboxes.appendChild(label);
                });
                
                // æ›´æ–°åŒ¹é…äººæ•°
                updateMatchCount();
            } else {
                // éšè—å›½å®¶å¤é€‰æ¡†
                countryHint.style.display = 'block';
                countryCheckboxes.style.display = 'none';
            }
        });
        
        // æ›´æ–°åŒ¹é…äººæ•°
        function updateMatchCount() {
            // è¿™é‡Œåº”è¯¥æ˜¯æ ¹æ®ç­›é€‰æ¡ä»¶è®¡ç®—åŒ¹é…äººæ•°çš„é€»è¾‘
            // è¿™é‡Œåªæ˜¯æ¨¡æ‹Ÿä¸€ä¸ªéšæœºæ•°
            const randomCount = Math.floor(Math.random() * 100) + 1;
            document.getElementById('matchCount').textContent = randomCount;
        }
        
        // ç›‘å¬ç­›é€‰æ¡ä»¶å˜åŒ–ï¼Œæ›´æ–°åŒ¹é…äººæ•°
        document.querySelectorAll('input[name="gender"], input[name="language"], input[name="hsk"]').forEach(function(input) {
            input.addEventListener('change', updateMatchCount);
        });
        
        ageSliderMin.addEventListener('input', updateMatchCount);
        ageSliderMax.addEventListener('input', updateMatchCount);
    </script>
</body>
</html>