<!DOCTYPE html>
<html lang="zh-CN">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>AIè¯­ä¼´èŠå¤© 2.0 | AI Language Companion - è¯­eæ¡¥</title>
<style>
    * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
        font-family: "Microsoft YaHei", "PingFang SC", sans-serif;
    }
    
    :root {
        --primary: #4361ee;
        --primary-light: #eef2ff;
        --secondary: #3ccf91;
        --secondary-light: #e8f5e9;
        --text-dark: #333333;
        --text-light: #666666;
        --bg-light: #f9fafb;
        --border-color: #e5e7eb;
        --warning-light: #fff3cd;
        --warning: #ffc107;
        --info-light: #e1f5fe;
        --info: #03a9f4;
        --success-light: #e8f5e9;
        --success: #4caf50;
        --user-color: #4caf50;
        --ai-color: #4361ee;
        --contact1-color: #f44336;
        --contact2-color: #ff9800;
        --contact3-color: #9c27b0;
        --partner1-color: #e91e63;
        --partner2-color: #2196f3;
        --partner3-color: #ff5722;
    }
    
    body {
        background-color: var(--bg-light);
        color: var(--text-dark);
        line-height: 1.6;
        height: 100vh;
        overflow: hidden;
    }
    
    /* é¡¶éƒ¨å¯¼èˆªæ  */
    .top-nav {
        background-color: white;
        display: flex;
        justify-content: space-between;
        align-items: center;
        padding: 0 30px;
        height: 64px;
        position: fixed;
        width: 100%;
        z-index: 100;
        box-shadow: 0 1px 3px rgba(0, 0, 0, 0.05);
        left: 0;
    }
    
    .logo {
        display: flex;
        align-items: center;
        font-size: 22px;
        font-weight: bold;
        color: var(--primary);
        text-decoration: none;
    }
    
    .nav-links {
        display: flex;
        list-style: none;
        height: 100%;
    }

    .nav-links li {
        height: 100%;
        position: relative;
    }

    .nav-links a {
        text-decoration: none;
        color: var(--text-dark);
        font-weight: 500;
        display: flex;
        align-items: center;
        transition: all 0.3s;
        padding: 0 20px;
        height: 100%;
    }

    .nav-links a:hover {
        color: var(--primary);
        background-color: var(--primary-light);
    }

    .nav-links a.active {
        color: var(--primary);
        background-color: var(--primary-light);
        position: relative;
    }

    .nav-links a.active::after {
        content: "";
        position: absolute;
        bottom: 0;
        left: 0;
        width: 100%;
        height: 3px;
        background-color: var(--primary);
    }
    
    .nav-links i {
        margin-right: 8px;
        font-size: 18px;
    }
    
    /* ä¸‹æ‹‰èœå• */
    .dropdown {
        position: relative;
        display: inline-block;
        height: 100%;
    }
    
    .dropdown-content {
        display: none;
        position: absolute;
        background-color: white;
        min-width: 180px;
        box-shadow: 0px 8px 16px 0px rgba(0,0,0,0.1);
        border-radius: 8px;
        z-index: 1;
        top: 100%;
        left: 0;
        margin-top: 5px;
        overflow: hidden;
    }
    
    .dropdown-content a {
        color: var(--text-dark);
        padding: 12px 16px;
        text-decoration: none;
        display: block;
        transition: all 0.2s;
        height: auto;
    }
    
    .dropdown-content a:hover {
        background-color: var(--primary-light);
        color: var(--primary);
    }
    
    .dropdown:hover .dropdown-content {
        display: block;
    }
    
    .dropdown-icon {
        margin-left: 5px;
        font-size: 12px;
    }
    
    /* ä¸»è¦èŠå¤©åŒºåŸŸ */
    .app-container {
        display: flex;
        height: 100vh;
        padding-top: 64px;
    }
    
    /* å·¦ä¾§ä¼šè¯åˆ—è¡¨ */
    .sidebar {
        width: 320px;
        background-color: white;
        height: 100%;
        overflow: hidden;
        display: flex;
        flex-direction: column;
        border-right: 1px solid var(--border-color);
    }
    
    .search-container {
        padding: 20px;
        border-bottom: 1px solid var(--border-color);
    }
    
    .search-bar {
        position: relative;
        width: 100%;
    }
    
    .search-bar input {
        width: 100%;
        padding: 12px 15px 12px 40px;
        border-radius: 8px;
        border: 1px solid var(--border-color);
        background-color: var(--bg-light);
        font-size: 14px;
        transition: all 0.3s;
    }
    
    .search-bar input:focus {
        outline: none;
        border-color: var(--primary);
        box-shadow: 0 0 0 3px var(--primary-light);
    }
    
    .search-icon {
        position: absolute;
        left: 15px;
        top: 50%;
        transform: translateY(-50%);
        color: var(--text-light);
    }
    
    .sidebar-tabs {
        display: flex;
        border-bottom: 1px solid var(--border-color);
    }
    
    .sidebar-tab {
        flex: 1;
        padding: 12px;
        text-align: center;
        font-weight: 500;
        cursor: pointer;
        transition: all 0.3s;
        background-color: white;
        border: none;
        color: var(--text-light);
    }
    
    .sidebar-tab.active {
        color: var(--primary);
        border-bottom: 2px solid var(--primary);
    }
    
    .sidebar-tab:hover {
        background-color: var(--bg-light);
    }
    
    .sidebar-content {
        flex: 1;
        overflow-y: auto;
        display: none;
    }
    
    .sidebar-content.active {
        display: block;
    }
    
    .conversations {
        padding: 10px 0;
    }
    
    .conversation-item {
        display: flex;
        align-items: center;
        padding: 15px 20px;
        cursor: pointer;
        transition: all 0.3s;
        border-left: 3px solid transparent;
    }
    
    .conversation-item:hover {
        background-color: var(--bg-light);
    }
    
    .conversation-item.active {
        background-color: var(--primary-light);
        border-left-color: var(--primary);
    }
    
    .avatar {
        width: 48px;
        height: 48px;
        border-radius: 50%;
        display: flex;
        align-items: center;
        justify-content: center;
        font-weight: bold;
        color: white;
        font-size: 16px;
        margin-right: 15px;
        flex-shrink: 0;
    }
    
    .avatar.ai {
        background-color: var(--ai-color);
    }
    
    .avatar.user {
        background-color: var(--user-color);
    }
    
    .avatar.contact1 {
        background-color: var(--contact1-color);
    }
    
    .avatar.contact2 {
        background-color: var(--contact2-color);
    }
    
    .avatar.contact3 {
        background-color: var(--contact3-color);
    }
    
    .avatar.partner1 {
        background-color: var(--partner1-color);
    }
    
    .avatar.partner2 {
        background-color: var(--partner2-color);
    }
    
    .avatar.partner3 {
        background-color: var(--partner3-color);
    }
    
    .conversation-info {
        flex: 1;
        min-width: 0;
    }
    
    .conversation-header {
        display: flex;
        justify-content: space-between;
        align-items: center;
        margin-bottom: 5px;
    }
    
    .conversation-name {
        font-weight: 600;
        font-size: 15px;
        white-space: nowrap;
        overflow: hidden;
        text-overflow: ellipsis;
    }
    
    .conversation-time {
        font-size: 12px;
        color: var(--text-light);
        white-space: nowrap;
    }
    
    .conversation-preview {
        font-size: 13px;
        color: var(--text-light);
        white-space: nowrap;
        overflow: hidden;
        text-overflow: ellipsis;
    }
    
    /* è¯­ä¼´æ¨è */
    .partners-container {
        padding: 15px;
    }
    
    .partners-header {
        display: flex;
        justify-content: space-between;
        align-items: center;
        margin-bottom: 15px;
    }
    
    .partners-title {
        font-weight: 600;
        font-size: 16px;
        color: var(--text-dark);
    }
    
    .partners-subtitle {
        font-size: 13px;
        color: var(--text-light);
        margin-bottom: 15px;
    }
    
    .partner-card {
        background-color: white;
        border-radius: 12px;
        padding: 15px;
        margin-bottom: 15px;
        box-shadow: 0 2px 8px rgba(0, 0, 0, 0.05);
        transition: all 0.3s;
        cursor: pointer;
    }
    
    .partner-card:hover {
        transform: translateY(-3px);
        box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
    }
    
    .partner-header {
        display: flex;
        align-items: center;
        margin-bottom: 10px;
    }
    
    .partner-info {
        margin-left: 12px;
    }
    
    .partner-name {
        font-weight: 600;
        font-size: 15px;
    }
    
    .partner-details {
        font-size: 12px;
        color: var(--text-light);
    }
    
    .partner-match {
        display: inline-block;
        background-color: var(--success-light);
        color: var(--success);
        font-size: 12px;
        font-weight: 500;
        padding: 3px 8px;
        border-radius: 12px;
        margin-top: 5px;
    }
    
    .partner-interests {
        display: flex;
        flex-wrap: wrap;
        gap: 5px;
        margin-top: 10px;
    }
    
    .interest-tag {
        font-size: 11px;
        padding: 3px 8px;
        border-radius: 12px;
        background-color: var(--bg-light);
        color: var(--text-light);
    }
    
    .connect-button {
        display: block;
        width: 100%;
        padding: 10px;
        border-radius: 8px;
        background-color: var(--primary);
        color: white;
        text-align: center;
        font-weight: 500;
        border: none;
        cursor: pointer;
        transition: all 0.3s;
        margin-top: 15px;
    }
    
    .connect-button:hover {
        background-color: #3051d3;
    }
    
    /* å­¦ä¹ èµ„æº */
    .resources-container {
        padding: 15px;
    }
    
    .resources-header {
        display: flex;
        justify-content: space-between;
        align-items: center;
        margin-bottom: 15px;
    }
    
    .resources-title {
        font-weight: 600;
        font-size: 16px;
        color: var(--text-dark);
    }
    
    .resources-subtitle {
        font-size: 13px;
        color: var(--text-light);
        margin-bottom: 15px;
    }
    
    .resource-card {
        background-color: white;
        border-radius: 12px;
        padding: 15px;
        margin-bottom: 15px;
        box-shadow: 0 2px 8px rgba(0, 0, 0, 0.05);
        transition: all 0.3s;
        cursor: pointer;
    }
    
    .resource-card:hover {
        transform: translateY(-3px);
        box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
    }
    
    .resource-type {
        display: inline-block;
        font-size: 12px;
        padding: 3px 8px;
        border-radius: 12px;
        margin-bottom: 8px;
    }
    
    .resource-type.article {
        background-color: var(--info-light);
        color: var(--info);
    }
    
    .resource-type.video {
        background-color: var(--warning-light);
        color: var(--warning);
    }
    
    .resource-type.exercise {
        background-color: var(--success-light);
        color: var(--success);
    }
    
    .resource-title {
        font-weight: 600;
        font-size: 15px;
        margin-bottom: 5px;
    }
    
    .resource-description {
        font-size: 13px;
        color: var(--text-light);
        margin-bottom: 10px;
    }
    
    .resource-relevance {
        display: flex;
        align-items: center;
        font-size: 12px;
        color: var(--primary);
    }
    
    .resource-relevance i {
        margin-right: 5px;
    }
    
    .view-all-button {
        display: block;
        width: 100%;
        padding: 10px;
        border-radius: 8px;
        background-color: var(--bg-light);
        color: var(--text-dark);
        text-align: center;
        font-weight: 500;
        border: none;
        cursor: pointer;
        transition: all 0.3s;
        margin-top: 10px;
    }
    
    .view-all-button:hover {
        background-color: var(--border-color);
    }
    
    /* å³ä¾§èŠå¤©åŒºåŸŸ */
    .chat-container {
        flex: 1;
        display: flex;
        flex-direction: column;
        height: 100%;
        background-color: white;
    }
    
    .chat-header {
        display: flex;
        justify-content: space-between;
        align-items: center;
        padding: 15px 30px;
        border-bottom: 1px solid var(--border-color);
        background-color: white;
    }
    
    .chat-user {
        display: flex;
        align-items: center;
    }
    
    .chat-user-info {
        margin-left: 15px;
    }
    
    .chat-username {
        font-weight: 600;
        font-size: 16px;
    }
    
    .chat-status {
        font-size: 13px;
        color: var(--secondary);
    }
    
    .chat-actions {
        display: flex;
        gap: 15px;
    }
    
    .action-button {
        width: 40px;
        height: 40px;
        border-radius: 50%;
        display: flex;
        align-items: center;
        justify-content: center;
        background-color: var(--bg-light);
        border: none;
        cursor: pointer;
        transition: all 0.3s;
        font-size: 18px;
    }
    
    .action-button:hover {
        background-color: var(--primary-light);
        color: var(--primary);
    }
    
    .chat-messages {
        flex: 1;
        padding: 30px;
        overflow-y: auto;
        background-color: var(--bg-light);
    }
    
    .message-group {
        margin-bottom: 30px;
    }
    
    .message-time-divider {
        text-align: center;
        margin: 20px 0;
        position: relative;
    }
    
    .time-label {
        background-color: var(--bg-light);
        padding: 0 15px;
        font-size: 12px;
        color: var(--text-light);
        position: relative;
        z-index: 1;
        display: inline-block;
    }
    
    .time-divider {
        position: absolute;
        top: 50%;
        left: 0;
        right: 0;
        height: 1px;
        background-color: var(--border-color);
        z-index: 0;
    }
    
    .message {
        display: flex;
        margin-bottom: 20px;
        position: relative;
        max-width: 80%;
    }
    
    .message.received {
        align-self: flex-start;
        margin-right: auto;
    }
    
    .message.sent {
        flex-direction: row-reverse;
        align-self: flex-end;
        margin-left: auto;
    }
    
    .message-content {
        padding: 15px 20px;
        border-radius: 18px;
        position: relative;
        box-shadow: 0 1px 2px rgba(0, 0, 0, 0.1);
    }
    
    .message.received .message-content {
        background-color: white;
        border-top-left-radius: 4px;
        margin-left: 15px;
    }
    
    .message.sent .message-content {
        background-color: var(--primary-light);
        color: var(--primary);
        border-top-right-radius: 4px;
        margin-right: 15px;
    }
    
    .message-text {
        line-height: 1.5;
        font-size: 15px;
    }
    
    .message-time {
        font-size: 12px;
        color: var(--text-light);
        margin-top: 5px;
        text-align: right;
    }
    
    /* AI åŠŸèƒ½åŒºåŸŸ */
    .ai-features {
        display: flex;
        flex-wrap: wrap;
        gap: 10px;
        margin-top: 15px;
    }
    
    .feature-tag {
        font-size: 13px;
        padding: 6px 12px;
        border-radius: 20px;
        display: inline-flex;
        align-items: center;
        cursor: pointer;
        background-color: white;
        border: 1px solid var(--border-color);
        transition: all 0.3s;
    }
    
    .feature-tag:hover {
        border-color: var(--primary);
        color: var(--primary);
        background-color: var(--primary-light);
    }
    
    .feature-tag i {
        margin-right: 6px;
        font-size: 14px;
    }
    
    /* AI åŠŸèƒ½å¡ç‰‡ */
    .ai-feature-card {
        width: 100%;
        background-color: var(--info-light);
        border-radius: 12px;
        padding: 15px;
        margin-top: 15px;
        border-left: 4px solid var(--info);
        transition: all 0.3s;
        overflow: hidden;
        max-height: 0;
        opacity: 0;
    }
    
    .ai-feature-card.active {
        max-height: 500px;
        opacity: 1;
        margin-top: 15px;
    }
    
    .ai-feature-card.warning {
        background-color: var(--warning-light);
        border-left-color: var(--warning);
    }
    
    .ai-feature-card.success {
        background-color: var(--success-light);
        border-left-color: var(--success);
    }
    
    .card-header {
        display: flex;
        justify-content: space-between;
        align-items: center;
        margin-bottom: 10px;
    }
    
    .card-title {
        font-weight: 600;
        display: flex;
        align-items: center;
        gap: 5px;
    }
    
    .card-close {
        font-size: 20px;
        cursor: pointer;
        color: var(--text-light);
        width: 24px;
        height: 24px;
        display: flex;
        align-items: center;
        justify-content: center;
        border-radius: 50%;
        transition: all 0.2s;
    }
    
    .card-close:hover {
        background-color: rgba(0, 0, 0, 0.1);
    }
    
    .card-content {
        font-size: 14px;
    }
    
    .card-content p {
        margin-bottom: 8px;
    }
    
    .card-content ul {
        padding-left: 20px;
        margin-bottom: 8px;
    }
    
    .card-content ul li {
        margin-bottom: 5px;
    }
    
    .suggestion-item {
        display: flex;
        justify-content: space-between;
        align-items: center;
        padding: 10px 12px;
        background-color: white;
        border-radius: 8px;
        margin-bottom: 8px;
        cursor: pointer;
        transition: all 0.2s;
    }
    
    .suggestion-item:hover {
        background-color: var(--primary-light);
    }
    
    .suggestion-text {
        flex: 1;
    }
    
    .suggestion-use {
        color: var(--primary);
        font-size: 13px;
        font-weight: 500;
        padding: 4px 8px;
        border-radius: 4px;
        background-color: var(--primary-light);
        transition: all 0.2s;
    }
    
    .suggestion-item:hover .suggestion-use {
        background-color: var(--primary);
        color: white;
    }
    
    /* æ™ºèƒ½æ¨èå¡ç‰‡ */
    .smart-recommendation {
        background-color: white;
        border-radius: 12px;
        padding: 15px;
        margin: 20px 0;
        box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
        border-left: 4px solid var(--secondary);
        position: relative;
        overflow: hidden;
    }
    
    .recommendation-header {
        display: flex;
        justify-content: space-between;
        align-items: center;
        margin-bottom: 10px;
    }
    
    .recommendation-title {
        font-weight: 600;
        font-size: 16px;
        color: var(--text-dark);
        display: flex;
        align-items: center;
    }
    
    .recommendation-title i {
        margin-right: 8px;
        color: var(--secondary);
    }
    
    .recommendation-close {
        font-size: 20px;
        cursor: pointer;
        color: var(--text-light);
        width: 24px;
        height: 24px;
        display: flex;
        align-items: center;
        justify-content: center;
        border-radius: 50%;
        transition: all 0.2s;
    }
    
    .recommendation-close:hover {
        background-color: rgba(0, 0, 0, 0.1);
    }
    
    .recommendation-content {
        margin-bottom: 15px;
    }
    
    .recommendation-text {
        font-size: 14px;
        color: var(--text-light);
        margin-bottom: 10px;
    }
    
    .recommendation-items {
        display: flex;
        gap: 10px;
        overflow-x: auto;
        padding-bottom: 10px;
    }
    
    .recommendation-item {
        min-width: 200px;
        background-color: var(--bg-light);
        border-radius: 8px;
        padding: 12px;
        cursor: pointer;
        transition: all 0.3s;
    }
    
    .recommendation-item:hover {
        transform: translateY(-3px);
        box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
    }
    
    .recommendation-item-title {
        font-weight: 500;
        font-size: 14px;
        margin-bottom: 5px;
    }
    
    .recommendation-item-desc {
        font-size: 12px;
        color: var(--text-light);
    }
    
    .recommendation-actions {
        display: flex;
        justify-content: flex-end;
    }
    
    .recommendation-button {
        padding: 8px 15px;
        border-radius: 20px;
        background-color: var(--secondary);
        color: white;
        font-size: 13px;
        font-weight: 500;
        border: none;
        cursor: pointer;
        transition: all 0.3s;
        display: flex;
        align-items: center;
    }
    
    .recommendation-button i {
        margin-right: 5px;
    }
    
    .recommendation-button:hover {
        background-color: #2ba978;
        transform: translateY(-2px);
    }
    
    /* è¯­ä¼´åŒ¹é…æ¨è */
    .partner-recommendation {
        background-color: white;
        border-radius: 12px;
        padding: 15px;
        margin: 20px 0;
        box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
        border-left: 4px solid var(--partner1-color);
        position: relative;
        overflow: hidden;
    }
    
    .partner-recommendation-header {
        display: flex;
        justify-content: space-between;
        align-items: center;
        margin-bottom: 10px;
    }
    
    .partner-recommendation-title {
        font-weight: 600;
        font-size: 16px;
        color: var(--text-dark);
        display: flex;
        align-items: center;
    }
    
    .partner-recommendation-title i {
        margin-right: 8px;
        color: var(--partner1-color);
    }
    
    .partner-recommendation-text {
        font-size: 14px;
        color: var(--text-light);
        margin-bottom: 15px;
    }
    
    .partner-matches {
        display: flex;
        gap: 15px;
        overflow-x: auto;
        padding-bottom: 10px;
    }
    
    .partner-match-card {
        min-width: 180px;
        background-color: var(--bg-light);
        border-radius: 12px;
        padding: 15px;
        transition: all 0.3s;
        cursor: pointer;
        display: flex;
        flex-direction: column;
        align-items: center;
    }
    
    .partner-match-card:hover {
        transform: translateY(-3px);
        box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
    }
    
    .partner-match-avatar {
        width: 60px;
        height: 60px;
        border-radius: 50%;
        display: flex;
        align-items: center;
        justify-content: center;
        font-weight: bold;
        color: white;
        font-size: 20px;
        margin-bottom: 10px;
    }
    
    .partner-match-info {
        text-align: center;
    }
    
    .partner-match-name {
        font-weight: 600;
        font-size: 15px;
        margin-bottom: 5px;
    }
    
    .partner-match-details {
        font-size: 12px;
        color: var(--text-light);
        margin-bottom: 5px;
    }
    
    .partner-match-compatibility {
        display: inline-block;
        background-color: var(--success-light);
        color: var(--success);
        font-size: 12px;
        font-weight: 500;
        padding: 3px 8px;
        border-radius: 12px;
    }
    
    .partner-match-button {
        margin-top: 10px;
        padding: 6px 12px;
        border-radius: 20px;
        background-color: var(--partner1-color);
        color: white;
        font-size: 12px;
        font-weight: 500;
        border: none;
        cursor: pointer;
        transition: all 0.3s;
    }
    
    .partner-match-button:hover {
        opacity: 0.9;
    }
    
    .partner-recommendation-actions {
        display: flex;
        justify-content: center;
        margin-top: 15px;
    }
    
    .view-all-partners-button {
        padding: 8px 20px;
        border-radius: 20px;
        background-color: var(--partner1-color);
        color: white;
        font-size: 14px;
        font-weight: 500;
        border: none;
        cursor: pointer;
        transition: all 0.3s;
        display: flex;
        align-items: center;
    }
    
    .view-all-partners-button i {
        margin-right: 5px;
    }
    
    .view-all-partners-button:hover {
        background-color: #d81b60;
        transform: translateY(-2px);
    }
    
    /* è¾“å…¥åŒºåŸŸ */
    .chat-input-area {
        padding: 20px 30px;
        border-top: 1px solid var(--border-color);
        background-color: white;
    }
    
    .input-tools {
        display: flex;
        margin-bottom: 15px;
    }
    
    .tool-button {
        width: 36px;
        height: 36px;
        border-radius: 50%;
        display: flex;
        align-items: center;
        justify-content: center;
        background: none;
        border: none;
        cursor: pointer;
        color: var(--text-light);
        transition: all 0.3s;
        margin-right: 10px;
        font-size: 18px;
    }
    
    .tool-button:hover {
        background-color: var(--primary-light);
        color: var(--primary);
    }
    
    .input-container {
        display: flex;
        align-items: flex-end;
    }
    
    .chat-input {
        flex: 1;
        padding: 15px 20px;
        border-radius: 24px;
        border: 1px solid var(--border-color);
        background-color: var(--bg-light);
        font-size: 15px;
        transition: all 0.3s;
        resize: none;
        max-height: 150px;
        min-height: 50px;
    }
    
    .chat-input:focus {
        outline: none;
        border-color: var(--primary);
        box-shadow: 0 0 0 3px var(--primary-light);
    }
    
    .send-button {
        background-color: var(--primary);
        color: white;
        border: none;
        width: 50px;
        height: 50px;
        border-radius: 50%;
        display: flex;
        align-items: center;
        justify-content: center;
        cursor: pointer;
        margin-left: 15px;
        transition: all 0.3s;
        font-size: 20px;
    }
    
    .send-button:hover {
        background-color: #3051d3;
        transform: scale(1.05);
    }
    
    /* å“åº”å¼è°ƒæ•´ */
    @media (max-width: 1200px) {
        .sidebar {
            width: 280px;
        }
    }
    
    @media (max-width: 992px) {
        .app-container {
            flex-direction: column;
        }
        
        .sidebar {
            width: 100%;
            height: 300px;
            border-right: none;
            border-bottom: 1px solid var(--border-color);
        }
        
        .chat-container {
            height: calc(100% - 300px);
        }
    }
    
    @media (max-width: 768px) {
        .top-nav {
            padding: 0 15px;
        }
        
        .nav-links a {
            padding: 0 12px;
        }
        
        .chat-messages {
            padding: 20px;
        }
        
        .chat-header, .chat-input-area {
            padding: 15px 20px;
        }
        
        .message {
            max-width: 90%;
        }
        
        .partner-matches, .recommendation-items {
            flex-direction: column;
            gap: 15px;
        }
        
        .partner-match-card, .recommendation-item {
            min-width: auto;
            width: 100%;
        }
    }
    
    @media (max-width: 576px) {
        .top-nav {
            padding: 0 10px;
        }
        
        .logo {
            font-size: 20px;
        }
        
        .nav-links a {
            padding: 0 8px;
        }
        
        .nav-links i {
            margin-right: 0;
        }
        
        .chat-messages {
            padding: 15px;
        }
        
        .message {
            max-width: 95%;
        }
    }
</style>
</head>
<body>
<!-- é¡¶éƒ¨å¯¼èˆªæ  -->
<nav class="top-nav">
    <a href="index.html" class="logo">è¯­eæ¡¥</a>
    
    <ul class="nav-links">
        <li><a href="index.html"><i class="icon">ğŸ </i>é¦–é¡µ</a></li>
        <li><a href="languagepartner-search.html"><i class="icon">ğŸ‘«</i>è¯­ä¼´</a></li>
        <li class="dropdown">
            <a href="chat.html" class="active"><i class="icon">ğŸ’¬</i>èŠå¤©<span class="dropdown-icon">â–¼</span></a>
            <div class="dropdown-content">
                <a href="ai-chat.html">AIè¯­ä¼´èŠå¤©</a>
                <a href="chat.html">è¯­ä¼´èŠå¤©</a>
            </div>
        </li>
        <li><a href="experiment.html"><i class="icon">ğŸ§ª</i>å®éªŒæ‹›å‹Ÿ</a></li>
        <li class="dropdown">
            <a href="community-resources.html"><i class="icon">ğŸ“š</i>å­¦ä¹ ç¤¾åŒº<span class="dropdown-icon">â–¼</span></a>
            <div class="dropdown-content">
                <a href="personal-publish.html">ä¸ªäººå‘å¸ƒ</a>
                <a href="community-resources.html">ç¤¾åŒºèµ„æº</a>
                <a href="dragon-boat-festival.html">ä¼ ç»ŸèŠ‚æ—¥</a>
                <a href="learningpath.html">å­¦ä¹ è·¯å¾„</a>
            </div>
        </li>
        <li><a href="tutor-matching.html"><i class="icon">ğŸ‘¥</i>è½»è¾…å¯¼</a></li>
        <li><a href="login.html">ç™»å½•</a></li>
    </ul>
</nav>

<!-- åº”ç”¨ä¸»å®¹å™¨ -->
<div class="app-container">
    <!-- å·¦ä¾§ä¼šè¯åˆ—è¡¨ -->
    <div class="sidebar">
        <div class="search-container">
            <div class="search-bar">
                <input type="text" placeholder="æœç´¢å¯¹è¯...">
                <span class="search-icon">ğŸ”</span>
            </div>
        </div>
        
        <div class="sidebar-tabs">
            <button class="sidebar-tab active" onclick="switchTab('conversations')">èŠå¤©</button>
            <button class="sidebar-tab" onclick="switchTab('partners')">è¯­ä¼´æ¨è</button>
            <button class="sidebar-tab" onclick="switchTab('resources')">å­¦ä¹ èµ„æº</button>
        </div>
        
        <div id="conversations-tab" class="sidebar-content active">
            <div class="conversations">
                <div class="conversation-item active">
                    <div class="avatar ai">AI</div>
                    <div class="conversation-info">
                        <div class="conversation-header">
                            <div class="conversation-name">AIè¯­ä¼´åŠ©æ‰‹</div>
                            <div class="conversation-time">ä¸Šåˆ10:30</div>
                        </div>
                        <div class="conversation-preview">æ¬¢è¿ä½¿ç”¨AIè¯­ä¼´ï¼æˆ‘å¯ä»¥å¸®åŠ©ä½ æå‡è¯­è¨€èƒ½åŠ›...</div>
                    </div>
                </div>
                
                <div class="conversation-item">
                    <div class="avatar contact1">ç‹å°</div>
                    <div class="conversation-info">
                        <div class="conversation-header">
                            <div class="conversation-name">ç‹å°æ˜</div>
                            <div class="conversation-time">æ˜¨å¤©</div>
                        </div>
                        <div class="conversation-preview">ä¸‹æ¬¡æˆ‘ä»¬å»ä¸­å…³æ‘è§é¢å§ï¼</div>
                    </div>
                </div>
                
                <div class="conversation-item">
                    <div class="avatar contact2">LC</div>
                    <div class="conversation-info">
                        <div class="conversation-header">
                            <div class="conversation-name">Lisa Chen</div>
                            <div class="conversation-time">å‘¨ä¸€</div>
                        </div>
                        <div class="conversation-preview">Thank you for helping with my Chinese!</div>
                    </div>
                </div>
                
                <div class="conversation-item">
                    <div class="avatar contact3">å¼ ä¼Ÿ</div>
                    <div class="conversation-info">
                        <div class="conversation-header">
                            <div class="conversation-name">å¼ ä¼Ÿ</div>
                            <div class="conversation-time">ä¸Šå‘¨</div>
                        </div>
                        <div class="conversation-preview">æ˜å¤©æˆ‘ä»¬ç»§ç»­è®¨è®ºé¡¹ç›®è®¡åˆ’</div>
                    </div>
                </div>
            </div>
        </div>
        
        <div id="partners-tab" class="sidebar-content">
            <div class="partners-container">
                <div class="partners-header">
                    <div class="partners-title">ä¸ºæ‚¨æ¨èçš„è¯­ä¼´</div>
                </div>
                <div class="partners-subtitle">åŸºäºæ‚¨çš„èŠå¤©å†…å®¹å’Œå­¦ä¹ å…´è¶£ï¼Œæˆ‘ä»¬æ‰¾åˆ°äº†è¿™äº›åŒ¹é…åº¦é«˜çš„è¯­ä¼´</div>
                
                <div class="partner-card">
                    <div class="partner-header">
                        <div class="avatar partner1">æ—å°</div>
                        <div class="partner-info">
                            <div class="partner-name">æ—å°é›¨</div>
                            <div class="partner-details">ä¸­æ–‡æ¯è¯­ | è‹±è¯­æµåˆ© | åŒ—äº¬</div>
                            <div class="partner-match">åŒ¹é…åº¦: 92%</div>
                        </div>
                    </div>
                    <div class="partner-interests">
                        <span class="interest-tag">ä¼ ç»ŸèŠ‚æ—¥</span>
                        <span class="interest-tag">ä¸­å›½æ–‡åŒ–</span>
                        <span class="interest-tag">ç”µå½±</span>
                    </div>
                    <button class="connect-button" onclick="window.location.href='chat.html?partner=æ—å°é›¨&avatar=https://ui-avatars.com/api/?name=æ—å°é›¨&background=e91e63&color=fff&size=50&flag=ğŸ‡¨ğŸ‡³&language=ä¸­æ–‡'">ç«‹å³è¿æ¥</button>
                </div>
                
                <div class="partner-card">
                    <div class="partner-header">
                        <div class="avatar partner2">MK</div>
                        <div class="partner-info">
                            <div class="partner-name">Mike Kim</div>
                            <div class="partner-details">è‹±è¯­æ¯è¯­ | ä¸­æ–‡ä¸­çº§ | ä¸Šæµ·</div>
                            <div class="partner-match">åŒ¹é…åº¦: 87%</div>
                        </div>
                    </div>
                    <div class="partner-interests">
                        <span class="interest-tag">å•†åŠ¡ä¸­æ–‡</span>
                        <span class="interest-tag">æ—…æ¸¸</span>
                        <span class="interest-tag">ç¾é£Ÿ</span>
                    </div>
                    <button class="connect-button" onclick="window.location.href='chat.html?partner=Mike Kim&avatar=https://ui-avatars.com/api/?name=MK&background=2196f3&color=fff&size=50&flag=ğŸ‡ºğŸ‡¸&language=è‹±è¯­'">ç«‹å³è¿æ¥</button>
                </div>
                
                <div class="partner-card">
                    <div class="partner-header">
                        <div class="avatar partner3">èµµæ–‡</div>
                        <div class="partner-info">
                            <div class="partner-name">èµµæ–‡é™</div>
                            <div class="partner-details">ä¸­æ–‡æ¯è¯­ | è‹±è¯­ä¸­çº§ | æˆéƒ½</div>
                            <div class="partner-match">åŒ¹é…åº¦: 85%</div>
                        </div>
                    </div>
                    <div class="partner-interests">
                        <span class="interest-tag">ä¿šè¯­</span>
                        <span class="interest-tag">éŸ³ä¹</span>
                        <span class="interest-tag">ç½‘ç»œæ–‡åŒ–</span>
                    </div>
                    <button class="connect-button" onclick="window.location.href='chat.html?partner=èµµæ–‡é™&avatar=https://ui-avatars.com/api/?name=èµµæ–‡&background=ff5722&color=fff&size=50&flag=ğŸ‡¨ğŸ‡³&language=ä¸­æ–‡'">ç«‹å³è¿æ¥</button>
                </div>
                
                <button class="view-all-button">æŸ¥çœ‹æ›´å¤šè¯­ä¼´</button>
            </div>
        </div>
        
        <div id="resources-tab" class="sidebar-content">
            <div class="resources-container">
                <div class="resources-header">
                    <div class="resources-title">ä¸ªæ€§åŒ–å­¦ä¹ èµ„æº</div>
                </div>
                <div class="resources-subtitle">æ ¹æ®æ‚¨çš„èŠå¤©å†…å®¹å’Œå­¦ä¹ è¿›åº¦ï¼Œä¸ºæ‚¨æ¨èä»¥ä¸‹èµ„æº</div>
                
                <div class="resource-card">
                    <div class="resource-type article">æ–‡ç« </div>
                    <div class="resource-title">ä¸­å›½ä¼ ç»ŸèŠ‚æ—¥ï¼šä¸­å…ƒèŠ‚çš„ç”±æ¥ä¸ä¹ ä¿—</div>
                    <div class="resource-description">äº†è§£ä¸­å…ƒèŠ‚çš„æ–‡åŒ–èƒŒæ™¯ã€ç¥­ç¥€ä¼ ç»Ÿå’Œç°ä»£åº†ç¥æ–¹å¼</div>
                    <div class="resource-relevance">
                        <i>ğŸ”</i> åŸºäºæ‚¨å¯¹"é¬¼èŠ‚"çš„æé—®æ¨è
                    </div>
                </div>
                
                <div class="resource-card">
                    <div class="resource-type video">è§†é¢‘</div>
                    <div class="resource-title">ä¸­æ–‡åŠ¨ç‰©æ¯”å–»è¡¨è¾¾æŒ‡å—</div>
                    <div class="resource-description">å­¦ä¹ ä¸­æ–‡ä¸­å¸¸è§çš„åŠ¨ç‰©æ¯”å–»åŠå…¶æ–‡åŒ–å†…æ¶µ</div>
                    <div class="resource-relevance">
                        <i>ğŸ”</i> åŸºäºæ‚¨çš„"çŒª"ç›¸å…³è¡¨è¾¾æ¨è
                    </div>
                </div>
                
                <div class="resource-card">
                    <div class="resource-type exercise">ç»ƒä¹ </div>
                    <div class="resource-title">å•†åŠ¡ä¸­æ–‡ï¼šé«˜è¯­å¢ƒè¡¨è¾¾ç»ƒä¹ </div>
                    <div class="resource-description">é€šè¿‡æƒ…å¢ƒå¯¹è¯ç»ƒä¹ ç†è§£å’Œä½¿ç”¨"ç£¨åˆ"ç­‰å•†åŠ¡è¡¨è¾¾</div>
                    <div class="resource-relevance">
                        <i>ğŸ”</i> åŸºäºæ‚¨çš„å•†åŠ¡è¡¨è¾¾ç–‘é—®æ¨è
                    </div>
                </div>
                
                <button class="view-all-button">æŸ¥çœ‹å…¨éƒ¨å­¦ä¹ èµ„æº</button>
            </div>
        </div>
    </div>
    
    <!-- å³ä¾§èŠå¤©åŒºåŸŸ -->
    <div class="chat-container">
        <div class="chat-header">
            <div class="chat-user">
                <div class="avatar ai">AI</div>
                <div class="chat-user-info">
                    <div class="chat-username">AIè¯­ä¼´åŠ©æ‰‹</div>
                    <div class="chat-status">åœ¨çº¿</div>
                </div>
            </div>
            
            <div class="chat-actions">
                <button class="action-button">ğŸ”Š</button>
                <button class="action-button">ğŸ“</button>
                <button class="action-button">âš™ï¸</button>
            </div>
        </div>
        
        <div class="chat-messages" id="chatMessages">
            <div class="message-time-divider">
                <span class="time-label">ä»Šå¤© ä¸Šåˆ10:30</span>
                <div class="time-divider"></div>
            </div>
            
            <!-- æ¬¢è¿æ¶ˆæ¯ -->
            <div class="message received">
                <div class="avatar ai">AI</div>
                <div class="message-content">
                    <div class="message-text">
                        <p>ä½ å¥½ï¼æˆ‘æ˜¯ä½ çš„AIè¯­ä¼´åŠ©æ‰‹ï¼Œèƒ½å¤Ÿå¸®åŠ©ä½ æå‡ä¸­æ–‡æ°´å¹³å¹¶ç†è§£ä¸­å›½æ–‡åŒ–ã€‚æœ‰ä»€ä¹ˆæˆ‘å¯ä»¥å¸®åŠ©ä½ çš„å—ï¼Ÿ</p>
                        <div class="ai-features">
                            <div class="feature-tag" data-feature="translation"><i>ğŸŒ</i>ç¿»è¯‘</div>
                            <div class="feature-tag" data-feature="culture"><i>ğŸ“š</i>æ–‡åŒ–ç™¾ç§‘</div>
                            <div class="feature-tag" data-feature="correction"><i>âœ¨</i>æ™ºèƒ½çº é”™</div>
                            <div class="feature-tag" data-feature="warning"><i>âš ï¸</i>å†²çªé¢„è­¦</div>
                        </div>
                    </div>
                    <div class="message-time">10:30</div>
                </div>
            </div>
            
            <!-- èŠ‚æ—¥æ–‡åŒ–è®¨è®ºåœºæ™¯ -->
            <div class="message sent">
                <div class="avatar user">ME</div>
                <div class="message-content">
                    <div class="message-text">
                        <p>Hey, my Chinese friend just said they're busy preparing for é¬¼èŠ‚. Why would anyone celebrate a ghost festival? Sounds creepy...</p>
                    </div>
                    <div class="message-time">10:35</div>
                </div>
            </div>
            
            <div class="message received">
                <div class="avatar ai">AI</div>
                <div class="message-content">
                    <div class="message-text">
                        <p>I noticed you're asking about "é¬¼èŠ‚" (Ghost Festival). This might be a cultural misunderstanding. Let me explain.</p>
                        <div class="ai-features">
                            <div class="feature-tag" data-feature="translation" onclick="toggleFeature('translation1')"><i>ğŸŒ</i>æŸ¥çœ‹ç¿»è¯‘</div>
                            <div class="feature-tag" data-feature="culture" onclick="toggleFeature('culture1')"><i>ğŸ“š</i>æ–‡åŒ–ç™¾ç§‘</div>
                            <div class="feature-tag" data-feature="warning" onclick="toggleFeature('warning1')"><i>âš ï¸</i>å†²çªé¢„è­¦</div>
                        </div>
                        
                        <div id="translation1" class="ai-feature-card">
                            <div class="card-header">
                                <div class="card-title"><i>ğŸŒ</i> å¤šè¯­è¨€å®æ—¶ç¿»è¯‘</div>
                                <div class="card-close" onclick="toggleFeature('translation1')">Ã—</div>
                            </div>
                            <div class="card-content">
                                <p><strong>"é¬¼èŠ‚" â†’ "Hungry Ghost Festival (ä¸­å…ƒèŠ‚)"</strong></p>
                                <p>è€Œéç›´è¯‘ "Ghost Festival"</p>
                            </div>
                        </div>
                        
                        <div id="culture1" class="ai-feature-card">
                            <div class="card-header">
                                <div class="card-title"><i>ğŸ“š</i> æ–‡åŒ–æœ¯è¯­å³æ—¶ç™¾ç§‘</div>
                                <div class="card-close" onclick="toggleFeature('culture1')">Ã—</div>
                            </div>
                            <div class="card-content">
                                <p>ğŸ§§ <strong>æ–‡åŒ–å¡ç‰‡ï¼šä¸­å…ƒèŠ‚</strong></p>
                                <ul>
                                    <li>éææ€–èŠ‚æ—¥ï¼Œè€Œæ˜¯è¡¨è¾¾å¯¹ç¥–å…ˆçš„å°Šé‡</li>
                                    <li>å¯¹æ¯”ï¼šç±»ä¼¼ä¸‡åœ£èŠ‚ä½†å†…æ ¸ä¸åŒ</li>
                                    <li>å®‰å…¨ç”¨è¯­ï¼šä¸è¦è¯´"Happy Ghost Festival"</li>
                                </ul>
                            </div>
                        </div>
                        
                        <div id="warning1" class="ai-feature-card warning">
                            <div class="card-header">
                                <div class="card-title"><i>âš ï¸</i> å†²çªé¢„è­¦ç³»ç»Ÿ</div>
                                <div class="card-close" onclick="toggleFeature('warning1')">Ã—</div>
                            </div>
                            <div class="card-content">
                                <p>âš ï¸ æ£€æµ‹åˆ°æ½œåœ¨æ–‡åŒ–è¯¯è§£</p>
                                <p>â†’ æ¨èå›å¤æ¨¡æ¿ï¼š</p>
                                <div class="suggestion-item">
                                    <div class="suggestion-text">"åŸæ¥è¿™æ˜¯è¡¨è¾¾å­é“çš„èŠ‚æ—¥ï¼Œèƒ½åˆ†äº«äº›ä¼ ç»Ÿä¹ ä¿—å—ï¼Ÿ"</div>
                                    <div class="suggestion-use">ä½¿ç”¨</div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="message-time">10:36</div>
                </div>
            </div>
            
            <!-- å­¦ä¹ èµ„æºæ¨è -->
            <div class="smart-recommendation">
                <div class="recommendation-header">
                    <div class="recommendation-title"><i>ğŸ“š</i> ä¸ªæ€§åŒ–å­¦ä¹ æ¨è</div>
                    <div class="recommendation-close" onclick="closeRecommendation(this)">Ã—</div>
                </div>
                <div class="recommendation-content">
                    <div class="recommendation-text">æ ¹æ®æ‚¨å¯¹ä¸­å…ƒèŠ‚çš„å…´è¶£ï¼Œä¸ºæ‚¨æ¨èä»¥ä¸‹å­¦ä¹ èµ„æºï¼š</div>
                    <div class="recommendation-items">
                        <div class="recommendation-item">
                            <div class="recommendation-item-title">ä¸­å…ƒèŠ‚çš„å†å²ä¸ä¼ ç»Ÿ</div>
                            <div class="recommendation-item-desc">äº†è§£ä¸­å…ƒèŠ‚çš„èµ·æºã€æ¼”å˜å’Œç°ä»£æ„ä¹‰</div>
                        </div>
                        <div class="recommendation-item">
                            <div class="recommendation-item-title">ä¸­è¥¿æ–¹ç¥­ç¥€æ–‡åŒ–å¯¹æ¯”</div>
                            <div class="recommendation-item-desc">æ¢ç´¢ä¸œè¥¿æ–¹å¯¹å¾…ç¥–å…ˆå’Œé€è€…çš„æ–‡åŒ–å·®å¼‚</div>
                        </div>
                        <div class="recommendation-item">
                            <div class="recommendation-item-title">ä¸­å›½ä¼ ç»ŸèŠ‚æ—¥è¯æ±‡</div>
                            <div class="recommendation-item-desc">æŒæ¡ä¸ä¸­å›½ä¼ ç»ŸèŠ‚æ—¥ç›¸å…³çš„å¸¸ç”¨è¯æ±‡</div>
                        </div>
                    </div>
                </div>
                <div class="recommendation-actions">
                    <button class="recommendation-button"><i>ğŸ“š</i> æŸ¥çœ‹å…¨éƒ¨èµ„æº</button>
                </div>
            </div>
            
            <div class="message-time-divider">
                <span class="time-label">ä»Šå¤© ä¸Šåˆ10:40</span>
                <div class="time-divider"></div>
            </div>
            
            <!-- ä¿šè¯­ä½¿ç”¨çº é”™åœºæ™¯ -->
            <div class="message sent">
                <div class="avatar user">ME</div>
                <div class="message-content">
                    <div class="message-text">
                        <p>I want to describe my lazy roommate, can I say ä»–åƒåªçŒªä¸€æ ·ç¡è§‰?</p>
                    </div>
                    <div class="message-time">10:42</div>
                </div>
            </div>
            
            <div class="message received">
                <div class="avatar ai">AI</div>
                <div class="message-content">
                    <div class="message-text">
                        <p>While grammatically correct, comparing someone to a pig in Chinese can be quite offensive. Let me suggest some better alternatives.</p>
                        <div class="ai-features">
                            <div class="feature-tag" data-feature="correction" onclick="toggleFeature('correction1')"><i>âœ¨</i>æ™ºèƒ½çº é”™</div>
                            <div class="feature-tag" data-feature="culture" onclick="toggleFeature('culture2')"><i>ğŸ“š</i>æ–‡åŒ–ç™¾ç§‘</div>
                        </div>
                        
                        <div id="correction1" class="ai-feature-card success">
                            <div class="card-header">
                                <div class="card-title"><i>âœ¨</i> æ™ºèƒ½çº é”™ä¸å‡çº§æè®®</div>
                                <div class="card-close" onclick="toggleFeature('correction1')">Ã—</div>
                            </div>
                            <div class="card-content">
                                <p>âœ¨ æ™ºèƒ½ä¼˜åŒ–å»ºè®®ï¼š</p>
                                <p>åŸå¥ï¼š"ä»–åƒåªçŒªä¸€æ ·ç¡è§‰" â†’ å¯èƒ½å†’çŠ¯</p>
                                <p>æ¨èè¡¨è¾¾ï¼š</p>
                                <div class="suggestion-item">
                                    <div class="suggestion-text">"ä»–ç¡å¾—è·Ÿè€ƒæ‹‰ä¼¼çš„"</div>
                                    <div class="suggestion-use">ä½¿ç”¨</div>
                                </div>
                                <div class="suggestion-item">
                                    <div class="suggestion-text">"ä»–ç¡è§‰åƒå†¬çœ çš„ç†Š"</div>
                                    <div class="suggestion-use">ä½¿ç”¨</div>
                                </div>
                                <p>â–¸ ç†ç”±ï¼šç”¨åŠ¨ç‰©æ¯”å–»éœ€æ³¨æ„æ–‡åŒ–å·®å¼‚ï¼Œè€ƒæ‹‰åœ¨è¥¿æ–¹è®¤çŸ¥ä¸­æ›´å¯çˆ±æ— å®³</p>
                                <p>â–¸ å»¶ä¼¸å­¦ä¹ ï¼š<a href="#">ã€Šä¸­æ–‡åŠ¨ç‰©éšå–»é¿å‘æŒ‡å—ã€‹</a></p>
                            </div>
                        </div>
                        
                        <div id="culture2" class="ai-feature-card">
                            <div class="card-header">
                                <div class="card-title"><i>ğŸ“š</i> æ–‡åŒ–æœ¯è¯­å³æ—¶ç™¾ç§‘</div>
                                <div class="card-close" onclick="toggleFeature('culture2')">Ã—</div>
                            </div>
                            <div class="card-content">
                                <p>ğŸ“– <strong>"çŒª"åœ¨ä¸­å›½æ–‡åŒ–ä¸­çš„åŒé‡å«ä¹‰ï¼š</strong></p>
                                <ul>
                                    <li>æ­£é¢ï¼šè±¡å¾è´¢å¯Œï¼ˆå­˜é’±ç½é€ å‹ï¼‰</li>
                                    <li>è´Ÿé¢ï¼š2018å¹´åç½‘ç»œè¯­å¢ƒä¸­çš„è´¬ä¹‰å¢å¼º</li>
                                </ul>
                            </div>
                        </div>
                    </div>
                    <div class="message-time">10:43</div>
                </div>
            </div>
            
            <!-- è¯­ä¼´åŒ¹é…æ¨è -->
            <div class="partner-recommendation">
                <div class="partner-recommendation-header">
                    <div class="partner-recommendation-title"><i>ğŸ‘«</i> è¯­ä¼´æ™ºèƒ½åŒ¹é…</div>
                    <div class="recommendation-close" onclick="closeRecommendation(this)">Ã—</div>
                </div>
                <div class="partner-recommendation-text">
                    æˆ‘ä»¬å‘ç°æœ‰å‡ ä½è¯­ä¼´å¯¹åŠ¨ç‰©éšå–»å’Œä¸­æ–‡è¡¨è¾¾ç‰¹åˆ«æ“…é•¿ï¼Œä»–ä»¬å¯ä»¥å¸®åŠ©ä½ æ›´å¥½åœ°ç†è§£ä¸­æ–‡ä¸­çš„æ–‡åŒ–å·®å¼‚ï¼
                </div>
                <div class="partner-matches">
                    <div class="partner-match-card">
                        <div class="partner-match-avatar partner1">æ—å°</div>
                        <div class="partner-match-info">
                            <div class="partner-match-name">æ—å°é›¨</div>
                            <div class="partner-match-details">ä¸­æ–‡æ•™å¸ˆ | åŒ—äº¬</div>
                            <div class="partner-match-compatibility">åŒ¹é…åº¦: 92%</div>
                        </div>
                        <button class="partner-match-button">ç«‹å³è¿æ¥</button>
                    </div>
                    <div class="partner-match-card">
                        <div class="partner-match-avatar partner2">MK</div>
                        <div class="partner-match-info">
                            <div class="partner-match-name">Mike Kim</div>
                            <div class="partner-match-details">è¯­è¨€å­¦åšå£« | ä¸Šæµ·</div>
                            <div class="partner-match-compatibility">åŒ¹é…åº¦: 87%</div>
                        </div>
                        <button class="partner-match-button">ç«‹å³è¿æ¥</button>
                    </div>
                    <div class="partner-match-card">
                        <div class="partner-match-avatar partner3">èµµæ–‡</div>
                        <div class="partner-match-info">
                            <div class="partner-match-name">èµµæ–‡é™</div>
                            <div class="partner-match-details">æ–‡å­¦çˆ±å¥½è€… | æˆéƒ½</div>
                            <div class="partner-match-compatibility">åŒ¹é…åº¦: 85%</div>
                        </div>
                        <button class="partner-match-button">ç«‹å³è¿æ¥</button>
                    </div>
                </div>
                <div class="partner-recommendation-actions">
                    <button class="view-all-partners-button"><i>ğŸ‘«</i> æŸ¥çœ‹æ›´å¤šåŒ¹é…è¯­ä¼´</button>
                </div>
            </div>
            
            <div class="message-time-divider">
                <span class="time-label">ä»Šå¤© ä¸Šåˆ10:50</span>
                <div class="time-divider"></div>
            </div>
            
            <!-- å®æ—¶ç¿»è¯‘ä¸æ–‡åŒ–è°ƒè§£åœºæ™¯ -->
            <div class="message sent">
                <div class="avatar user">ME</div>
                <div class="message-content">
                    <div class="message-text">
                        <p>My language partner sent me: "è¿™æ¬¡åˆä½œæ–¹æ¡ˆï¼Œæˆ‘ä»¬è¿˜éœ€è¦å†ç£¨åˆç£¨åˆ" - I don't understand what they mean. Can you help?</p>
                    </div>
                    <div class="message-time">10:50</div>
                </div>
            </div>
            
            <div class="message received">
                <div class="avatar ai">AI</div>
                <div class="message-content">
                    <div class="message-text">
                        <p>This is a common business expression in Chinese. Let me translate and explain.</p>
                        <div class="ai-features">
                            <div class="feature-tag" data-feature="translation" onclick="toggleFeature('translation2')"><i>ğŸŒ</i>æŸ¥çœ‹ç¿»è¯‘</div>
                            <div class="feature-tag" data-feature="warning" onclick="toggleFeature('warning2')"><i>âš ï¸</i>å†²çªé¢„è­¦</div>
                            <div class="feature-tag" data-feature="culture" onclick="toggleFeature('culture3')"><i>ğŸ“š</i>æ–‡åŒ–ç™¾ç§‘</div>
                        </div>
                        
                        <div id="translation2" class="ai-feature-card">
                            <div class="card-header">
                                <div class="card-title"><i>ğŸŒ</i> å¤šè¯­è¨€å®æ—¶ç¿»è¯‘</div>
                                <div class="card-close" onclick="toggleFeature('translation2')">Ã—</div>
                            </div>
                            <div class="card-content">
                                <p>ğŸŒ æ·±åº¦ç¿»è¯‘ï¼š</p>
                                <p><strong>"ç£¨åˆç£¨åˆ" â†’ "need more time to coordinate our working styles"</strong></p>
                                <p>ï¼ˆè€Œéå­—é¢ç¿»è¯‘"grind"ï¼‰</p>
                            </div>
                        </div>
                        
                        <div id="warning2" class="ai-feature-card warning">
                            <div class="card-header">
                                <div class="card-title"><i>âš ï¸</i> å†²çªé¢„è­¦ç³»ç»Ÿ</div>
                                <div class="card-close" onclick="toggleFeature('warning2')">Ã—</div>
                            </div>
                            <div class="card-content">
                                <p>âš ï¸ æ£€æµ‹åˆ°é«˜è¯­å¢ƒè¡¨è¾¾é£é™©</p>
                                <p>â†’ è¥¿æ–¹äººå¯èƒ½è¯¯è§£ä¸º"æ–¹æ¡ˆæœ‰ç¼ºé™·"</p>
                                <p>â†’ å»ºè®®è¿½é—®ï¼š</p>
                                <div class="suggestion-item">
                                    <div class="suggestion-text">"å…·ä½“å“ªäº›æ–¹é¢éœ€è¦è°ƒæ•´å‘¢ï¼Ÿ"</div>
                                    <div class="suggestion-use">ä½¿ç”¨</div>
                                </div>
                            </div>
                        </div>
                        
                        <div id="culture3" class="ai-feature-card">
                            <div class="card-header">
                                <div class="card-title"><i>ğŸ“š</i> æ–‡åŒ–æœ¯è¯­å³æ—¶ç™¾ç§‘</div>
                                <div class="card-close" onclick="toggleFeature('culture3')">Ã—</div>
                            </div>
                            <div class="card-content">
                                <p>ğŸ” <strong>"ç£¨åˆ"çš„æœºæ¢°å­¦èµ·æºï¼š</strong></p>
                                <ul>
                                    <li>æºè‡ªæ–°é›¶ä»¶éœ€è¦æ‘©æ“¦æ‰èƒ½å¥‘åˆ</li>
                                    <li>å•†åŠ¡åœºæ™¯ä¸­çš„ç§¯æå«ä¹‰ï¼šæœŸå¾…é•¿æœŸåˆä½œ</li>
                                </ul>
                            </div>
                        </div>
                    </div>
                    <div class="message-time">10:51</div>
                </div>
            </div>
            
            <!-- å­¦ä¹ èµ„æºæ¨è -->
            <div class="smart-recommendation">
                <div class="recommendation-header">
                    <div class="recommendation-title"><i>ğŸ“š</i> å•†åŠ¡ä¸­æ–‡å­¦ä¹ æ¨è</div>
                    <div class="recommendation-close" onclick="closeRecommendation(this)">Ã—</div>
                </div>
                <div class="recommendation-content">
                    <div class="recommendation-text">æˆ‘ä»¬æ³¨æ„åˆ°æ‚¨å¯¹å•†åŠ¡ä¸­æ–‡è¡¨è¾¾æ„Ÿå…´è¶£ï¼Œä¸ºæ‚¨æ¨èä»¥ä¸‹å­¦ä¹ èµ„æºï¼š</div>
                    <div class="recommendation-items">
                        <div class="recommendation-item">
                            <div class="recommendation-item-title">ä¸­æ–‡å•†åŠ¡è¡¨è¾¾æŒ‡å—</div>
                            <div class="recommendation-item-desc">æŒæ¡é«˜è¯­å¢ƒå•†åŠ¡è¡¨è¾¾çš„æŠ€å·§å’Œæ–‡åŒ–èƒŒæ™¯</div>
                        </div>
                        <div class="recommendation-item">
                            <div class="recommendation-item-title">å•†åŠ¡ä¼šè®®æƒ…å¢ƒå¯¹è¯</div>
                            <div class="recommendation-item-desc">é€šè¿‡çœŸå®åœºæ™¯ç»ƒä¹ å•†åŠ¡ä¸­æ–‡è¡¨è¾¾</div>
                        </div>
                        <div class="recommendation-item">
                            <div class="recommendation-item-title">ä¸­è¥¿æ–¹å•†åŠ¡æ–‡åŒ–å¯¹æ¯”</div>
                            <div class="recommendation-item-desc">äº†è§£ä¸­è¥¿æ–¹å•†åŠ¡äº¤æµä¸­çš„æ–‡åŒ–å·®å¼‚</div>
                        </div>
                    </div>
                </div>
                <div class="recommendation-actions">
                    <button class="recommendation-button"><i>ğŸ“š</i> æŸ¥çœ‹å…¨éƒ¨èµ„æº</button>
                </div>
            </div>
            
            <!-- ç½‘ç»œç”¨è¯­å®è·µåœºæ™¯ -->
            <div class="message sent">
                <div class="avatar user">ME</div>
                <div class="message-content">
                    <div class="message-text">
                        <p>Just won a game! æˆ‘æ˜¯ä¸æ˜¯å¾ˆç‰›ï¼ŸğŸ˜</p>
                    </div>
                    <div class="message-time">10:58</div>
                </div>
            </div>
            
            <div class="message received">
                <div class="avatar ai">AI</div>
                <div class="message-content">
                    <div class="message-text">
                        <p>Congratulations on your win! "ç‰›" is good slang to express that you're awesome. Let me share some variations you could use.</p>
                        <div class="ai-features">
                            <div class="feature-tag" data-feature="correction" onclick="toggleFeature('correction2')"><i>âœ¨</i>æ™ºèƒ½çº é”™</div>
                            <div class="feature-tag" data-feature="culture" onclick="toggleFeature('culture4')"><i>ğŸ“š</i>æ–‡åŒ–ç™¾ç§‘</div>
                            <div class="feature-tag" data-feature="warning" onclick="toggleFeature('warning3')"><i>âš ï¸</i>å†²çªé¢„è­¦</div>
                        </div>
                        
                        <div id="correction2" class="ai-feature-card success">
                            <div class="card-header">
                                <div class="card-title"><i>âœ¨</i> æ™ºèƒ½çº é”™ä¸å‡çº§æè®®</div>
                                <div class="card-close" onclick="toggleFeature('correction2')">Ã—</div>
                            </div>
                            <div class="card-content">
                                <p>âœ¨ è¯­å¢ƒé€‚é…å»ºè®®ï¼š</p>
                                <p>"ç‰›" â†’ æ ¹æ®åœºæ™¯å¯æ›¿æ¢ä¸ºï¼š</p>
                                <div class="suggestion-item">
                                    <div class="suggestion-text">æœ‹å‹é—´ï¼š666ï¼</div>
                                    <div class="suggestion-use">ä½¿ç”¨</div>
                                </div>
                                <div class="suggestion-item">
                                    <div class="suggestion-text">æ­£å¼åœºåˆï¼šå®åŠ›è¶…ç¾¤</div>
                                    <div class="suggestion-use">ä½¿ç”¨</div>
                                </div>
                                <div class="suggestion-item">
                                    <div class="suggestion-text">å¹½é»˜è‡ªå˜²ï¼šè¿™æŠŠçº¯å±èººèµ¢</div>
                                    <div class="suggestion-use">ä½¿ç”¨</div>
                                </div>
                            </div>
                        </div>
                        
                        <div id="culture4" class="ai-feature-card">
                            <div class="card-header">
                                <div class="card-title"><i>ğŸ“š</i> æ–‡åŒ–æœ¯è¯­å³æ—¶ç™¾ç§‘</div>
                                <div class="card-close" onclick="toggleFeature('culture4')">Ã—</div>
                            </div>
                            <div class="card-content">
                                <p>ğŸ“ˆ <strong>"ç‰›"çš„è¯­ä¹‰æ¼”å˜ï¼š</strong></p>
                                <p>1980sï¼šå­—é¢æŒ‡ç‰› â†’ 2000sç½‘ç»œï¼šå‰å®³ â†’ 2020sï¼šè¡ç”Ÿå‡º"yyds"</p>
                            </div>
                        </div>
                        
                        <div id="warning3" class="ai-feature-card warning">
                            <div class="card-header">
                                <div class="card-title"><i>âš ï¸</i> å†²çªé¢„è­¦ç³»ç»Ÿ</div>
                                <div class="card-close" onclick="toggleFeature('warning3')">Ã—</div>
                            </div>
                            <div class="card-content">
                                <p>âš ï¸ æ£€æµ‹åˆ°è¡¨æƒ…ç¬¦å·ä½¿ç”¨é£é™©</p>
                                <p>â†’ ğŸ˜åœ¨ä¸­æ–‡ç¤¾äº¤å¯èƒ½æ˜¾å¾—é«˜å‚²</p>
                                <p>â†’ æ¨èæ›¿æ¢ï¼šğŸ®ï¼ˆç¬¦åˆ"ç‰›"ä¸»é¢˜ï¼‰</p>
                            </div>
                        </div>
                    </div>
                    <div class="message-time">10:59</div>
                </div>
            </div>
        </div>
        
        <div class="chat-input-area">
            <div class="input-tools">
                <button class="tool-button">ğŸ˜Š</button>
                <button class="tool-button">ğŸ”—</button>
                <button class="tool-button">ğŸ¤</button>
                <button class="tool-button">ğŸ“·</button>
            </div>
            
            <div class="input-container">
                <textarea class="chat-input" placeholder="è¾“å…¥æ¶ˆæ¯..." rows="1"></textarea>
                <button class="send-button">ğŸ“¤</button>
            </div>
        </div>
    </div>
</div>

<script>
    // åŠŸèƒ½å¡ç‰‡åˆ‡æ¢
    function toggleFeature(featureId) {
        const featureCard = document.getElementById(featureId);
        if (featureCard.classList.contains('active')) {
            featureCard.classList.remove('active');
        } else {
            featureCard.classList.add('active');
        }
    }
    
    // å…³é—­æ¨èå¡ç‰‡
    function closeRecommendation(element) {
        const card = element.closest('.smart-recommendation, .partner-recommendation');
        card.style.display = 'none';
    }
    
    // åˆ‡æ¢ä¾§è¾¹æ æ ‡ç­¾
    function switchTab(tabId) {
        // éšè—æ‰€æœ‰å†…å®¹
        const contents = document.querySelectorAll('.sidebar-content');
        contents.forEach(content => {
            content.classList.remove('active');
        });
        
        // å–æ¶ˆæ‰€æœ‰æ ‡ç­¾çš„æ¿€æ´»çŠ¶æ€
        const tabs = document.querySelectorAll('.sidebar-tab');
        tabs.forEach(tab => {
            tab.classList.remove('active');
        });
        
        // æ¿€æ´»é€‰ä¸­çš„æ ‡ç­¾å’Œå†…å®¹
        document.getElementById(`${tabId}-tab`).classList.add('active');
        const activeTab = document.querySelector(`.sidebar-tab[onclick="switchTab('${tabId}')"]`);
        activeTab.classList.add('active');
    }
    
    // è‡ªåŠ¨è°ƒæ•´è¾“å…¥æ¡†é«˜åº¦
    const chatInput = document.querySelector('.chat-input');
    chatInput.addEventListener('input', function() {
        this.style.height = 'auto';
        this.style.height = (this.scrollHeight) + 'px';
        if (this.scrollHeight > 150) {
            this.style.overflowY = 'auto';
        } else {
            this.style.overflowY = 'hidden';
        }
    });
    
    // æ»šåŠ¨åˆ°åº•éƒ¨
    function scrollToBottom() {
        const chatMessages = document.getElementById('chatMessages');
        chatMessages.scrollTop = chatMessages.scrollHeight;
    }
    
    // é¡µé¢åŠ è½½æ—¶æ»šåŠ¨åˆ°åº•éƒ¨
    window.onload = function() {
        scrollToBottom();
        
        // åˆå§‹åŒ–ä¼šè¯é¡¹ç‚¹å‡»äº‹ä»¶
        const conversationItems = document.querySelectorAll('.conversation-item');
        conversationItems.forEach(item => {
            item.addEventListener('click', function() {
                conversationItems.forEach(i => i.classList.remove('active'));
                this.classList.add('active');
            });
        });
        
        // ä½¿ç”¨å»ºè®®ç‚¹å‡»äº‹ä»¶
        const suggestionElements = document.querySelectorAll('.suggestion-use');
        suggestionElements.forEach(element => {
            element.addEventListener('click', function(e) {
                e.stopPropagation();
                const suggestionText = this.parentElement.querySelector('.suggestion-text').textContent;
                chatInput.value = suggestionText;
                chatInput.style.height = 'auto';
                chatInput.style.height = (chatInput.scrollHeight) + 'px';
                chatInput.focus();
            });
        });
        
        // å»ºè®®é¡¹ç‚¹å‡»äº‹ä»¶
        const suggestionItems = document.querySelectorAll('.suggestion-item');
        suggestionItems.forEach(item => {
            item.addEventListener('click', function() {
                const suggestionText = this.querySelector('.suggestion-text').textContent;
                chatInput.value = suggestionText;
                chatInput.style.height = 'auto';
                chatInput.style.height = (chatInput.scrollHeight) + 'px';
                chatInput.focus();
            });
        });
    };

// å…³é”®è¯è§¦å‘å¯¹è¯åŠŸèƒ½
const keywordResponses = {
    "æ˜¥èŠ‚": {
        title: "æ˜¥èŠ‚ (Spring Festival)",
        content: "æ˜¥èŠ‚æ˜¯ä¸­å›½æœ€é‡è¦çš„ä¼ ç»ŸèŠ‚æ—¥ï¼Œåº†ç¥å†œå†æ–°å¹´çš„å¼€å§‹ã€‚äººä»¬ä¼šè´´æ˜¥è”ã€æ”¾é­ç‚®ã€åƒå›¢åœ†é¥­ï¼Œè¿˜æœ‰çº¢åŒ…ä¼ ç»Ÿã€‚è¿™ä¸ªèŠ‚æ—¥è±¡å¾ç€å®¶åº­å›¢èšã€è¾æ—§è¿æ–°ã€‚",
        suggestions: ["æ˜¥èŠ‚æœ‰å“ªäº›ä¼ ç»Ÿé£Ÿç‰©ï¼Ÿ", "ä¸ºä»€ä¹ˆè¦è´´æ˜¥è”ï¼Ÿ", "çº¢åŒ…çš„æ„ä¹‰æ˜¯ä»€ä¹ˆï¼Ÿ"]
    },
    "ç«¯åˆèŠ‚": {
        title: "ç«¯åˆèŠ‚ (Dragon Boat Festival)",
        content: "ç«¯åˆèŠ‚æ˜¯ä¸ºçºªå¿µçˆ±å›½è¯—äººå±ˆåŸè€Œè®¾ç«‹çš„ä¼ ç»ŸèŠ‚æ—¥ã€‚ä¸»è¦ä¹ ä¿—åŒ…æ‹¬èµ›é¾™èˆŸã€åƒç²½å­ã€æŒ‚è‰¾è‰å’Œè–è’²ã€‚è¿™ä¸ªèŠ‚æ—¥é€šå¸¸åœ¨å†œå†äº”æœˆåˆäº”ã€‚",
        suggestions: ["ç«¯åˆèŠ‚çš„ç”±æ¥æ˜¯ä»€ä¹ˆï¼Ÿ", "ä¸ºä»€ä¹ˆè¦åƒç²½å­ï¼Ÿ", "é¾™èˆŸæ¯”èµ›æœ‰ä»€ä¹ˆæ„ä¹‰ï¼Ÿ"]
    },
    "ä¸­ç§‹èŠ‚": {
        title: "ä¸­ç§‹èŠ‚ (Mid-Autumn Festival)",
        content: "ä¸­ç§‹èŠ‚æ˜¯ä¸­å›½ä¼ ç»Ÿçš„å›¢åœ†èŠ‚æ—¥ï¼Œåœ¨å†œå†å…«æœˆåäº”ä¸¾è¡Œã€‚äººä»¬ä¼šèµæœˆã€åƒæœˆé¥¼ã€ä¸å®¶äººå›¢èšã€‚è¿™ä¸ªèŠ‚æ—¥è±¡å¾ç€å›¢åœ†å’Œä¸°æ”¶ã€‚",
        suggestions: ["æœˆé¥¼çš„ç”±æ¥æ˜¯ä»€ä¹ˆï¼Ÿ", "ä¸­ç§‹èŠ‚æœ‰å“ªäº›ä¼ è¯´ï¼Ÿ", "ä¸ºä»€ä¹ˆä¸­ç§‹è¦èµæœˆï¼Ÿ"]
    },
    "å…ƒå®µèŠ‚": {
        title: "å…ƒå®µèŠ‚ (Lantern Festival)",
        content: "å…ƒå®µèŠ‚æ˜¯å†œå†æ­£æœˆåäº”ï¼Œæ ‡å¿—ç€æ˜¥èŠ‚åº†ç¥æ´»åŠ¨çš„ç»“æŸã€‚ä¸»è¦ä¹ ä¿—åŒ…æ‹¬èµèŠ±ç¯ã€çŒœç¯è°œã€åƒå…ƒå®µã€‚è¿™æ˜¯æ–°å¹´åç¬¬ä¸€ä¸ªæœˆåœ†ä¹‹å¤œã€‚",
        suggestions: ["å…ƒå®µå’Œæ±¤åœ†æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ", "ç¯è°œæ´»åŠ¨æ˜¯æ€ä¹ˆå¼€å§‹çš„ï¼Ÿ", "å…ƒå®µèŠ‚çš„å†å²ç”±æ¥æ˜¯ä»€ä¹ˆï¼Ÿ"]
    },
    "æ¸…æ˜èŠ‚": {
        title: "æ¸…æ˜èŠ‚ (Qingming Festival)",
        content: "æ¸…æ˜èŠ‚æ˜¯ä¸­å›½ä¼ ç»Ÿçš„æ‰«å¢“ç¥­ç¥–èŠ‚æ—¥ï¼Œä¹Ÿæ˜¯æ˜¥å­£é‡è¦çš„èŠ‚æ°”ã€‚äººä»¬ä¼šå»ç¥–å…ˆå¢“åœ°ç¥­æ‹œã€è¸é’éƒŠæ¸¸ï¼Œè¡¨è¾¾å¯¹å…ˆäººçš„æ€€å¿µå’Œæ•¬æ„ã€‚",
        suggestions: ["æ¸…æ˜èŠ‚ä¸ºä»€ä¹ˆè¦æ‰«å¢“ï¼Ÿ", "æ¸…æ˜èŠ‚æœ‰å“ªäº›ä¼ ç»Ÿé£Ÿç‰©ï¼Ÿ", "å¯’é£ŸèŠ‚ä¸æ¸…æ˜èŠ‚æœ‰ä»€ä¹ˆå…³ç³»ï¼Ÿ"]
    },
    "é¬¼èŠ‚": {
        title: "ä¸­å…ƒèŠ‚ (Ghost Festival)",
        content: "ä¸­å…ƒèŠ‚åˆç§°é¬¼èŠ‚ï¼Œæ˜¯å†œå†ä¸ƒæœˆåäº”ã€‚è¿™ä¸æ˜¯ä¸€ä¸ªææ€–çš„èŠ‚æ—¥ï¼Œè€Œæ˜¯äººä»¬ç¥­å¥ ç¥–å…ˆã€è¶…åº¦äº¡é­‚çš„ä¼ ç»ŸèŠ‚æ—¥ï¼Œè¡¨è¾¾å¯¹é€è€…çš„å°Šé‡å’Œæ€å¿µã€‚",
        suggestions: ["ä¸­å…ƒèŠ‚çš„ä¹ ä¿—æœ‰å“ªäº›ï¼Ÿ", "ä¸ºä»€ä¹ˆç§°ä¸ºé¬¼èŠ‚ï¼Ÿ", "ä¸­å…ƒèŠ‚ä¸è¥¿æ–¹ä¸‡åœ£èŠ‚æœ‰ä»€ä¹ˆä¸åŒï¼Ÿ"]
    }
};

// å‘é€æ¶ˆæ¯å‡½æ•°
document.querySelector('.send-button').addEventListener('click', function() {
    const chatInput = document.querySelector('.chat-input');
    const message = chatInput.value.trim();
    
    if (message) {
        // æ·»åŠ ç”¨æˆ·æ¶ˆæ¯
        addMessage(message, 'sent');
        
        // æ¸…ç©ºè¾“å…¥æ¡†
        chatInput.value = '';
        chatInput.style.height = 'auto';
        
        // æ£€æŸ¥å…³é”®è¯å¹¶å“åº”
        setTimeout(() => {
            checkKeywordsAndRespond(message);
        }, 1000);
    }
});

// æ·»åŠ æ¶ˆæ¯åˆ°èŠå¤©ç•Œé¢
function addMessage(content, type) {
    const chatMessages = document.getElementById('chatMessages');
    const now = new Date().toLocaleTimeString([], {hour: '2-digit', minute:'2-digit'});
    
    const messageDiv = document.createElement('div');
    messageDiv.className = `message ${type}`;
    
    const avatar = type === 'sent' ? 'ME' : 'AI';
    const avatarClass = type === 'sent' ? 'user' : 'ai';
    
    messageDiv.innerHTML = `
        <div class="avatar ${avatarClass}">${avatar}</div>
        <div class="message-content">
            <div class="message-text">
                <p>${content}</p>
            </div>
            <div class="message-time">${now}</div>
        </div>
    `;
    
    chatMessages.appendChild(messageDiv);
    scrollToBottom();
}

// æ£€æŸ¥å…³é”®è¯å¹¶å“åº”
function checkKeywordsAndRespond(message) {
    let responded = false;
    
    // æ£€æŸ¥æ¶ˆæ¯ä¸­æ˜¯å¦åŒ…å«å…³é”®è¯
    for (const keyword in keywordResponses) {
        if (message.toLowerCase().includes(keyword.toLowerCase())) {
            const response = keywordResponses[keyword];
            
            // æ·»åŠ AIå›å¤
            const replyContent = `<p><strong>${response.title}</strong></p><p>${response.content}</p>`;
            addMessage(replyContent, 'received');
            
            // æ·»åŠ å»ºè®®é—®é¢˜
            setTimeout(() => {
                addSuggestions(response.suggestions);
            }, 500);
            
            responded = true;
            break;
        }
    }
    
    // å¦‚æœæ²¡æœ‰åŒ¹é…å…³é”®è¯ï¼Œç»™å‡ºé»˜è®¤å›å¤
    if (!responded) {
        const defaultReplies = [
            "æˆ‘ç†è§£ä½ çš„é—®é¢˜ã€‚ä½ æƒ³äº†è§£æ›´å¤šå…³äºä¸­å›½æ–‡åŒ–çš„å“ªäº›æ–¹é¢å‘¢ï¼Ÿ",
            "è¿™æ˜¯ä¸ªæœ‰è¶£çš„é—®é¢˜ï¼ä½ å¯ä»¥å°è¯•é—®æˆ‘å…³äºä¸­å›½ä¼ ç»ŸèŠ‚æ—¥ã€è¯­è¨€å­¦ä¹ æˆ–æ–‡åŒ–å·®å¼‚çš„é—®é¢˜ã€‚",
            "æˆ‘å¯ä»¥å¸®ä½ è§£ç­”å…³äºä¸­æ–‡å­¦ä¹ çš„é—®é¢˜ã€‚ä½ å¯¹å“ªä¸ªæ–¹é¢ç‰¹åˆ«æ„Ÿå…´è¶£ï¼Ÿ",
            "å¦‚æœä½ æƒ³äº†è§£ä¸­å›½æ–‡åŒ–ï¼Œå¯ä»¥å°è¯•è¾“å…¥å…³é”®è¯å¦‚'æ˜¥èŠ‚'ã€'ç«¯åˆèŠ‚'ã€'ä¸­ç§‹èŠ‚'ç­‰ã€‚"
        ];
        
        const randomReply = defaultReplies[Math.floor(Math.random() * defaultReplies.length)];
        addMessage(randomReply, 'received');
    }
}

// æ·»åŠ å»ºè®®é—®é¢˜
function addSuggestions(suggestions) {
    const chatMessages = document.getElementById('chatMessages');
    
    const suggestionDiv = document.createElement('div');
    suggestionDiv.className = 'ai-feature-card success active';
    suggestionDiv.style.marginBottom = '20px';
    
    let suggestionsHTML = `
        <div class="card-header">
            <div class="card-title"><i>ğŸ’¡</i> ä½ å¯èƒ½æƒ³é—®</div>
            <div class="card-close" onclick="this.parentElement.parentElement.style.display='none'">Ã—</div>
        </div>
        <div class="card-content">
    `;
    
    suggestions.forEach(suggestion => {
        suggestionsHTML += `
            <div class="suggestion-item">
                <div class="suggestion-text">${suggestion}</div>
                <div class="suggestion-use">ä½¿ç”¨</div>
            </div>
        `;
    });
    
    suggestionsHTML += `</div>`;
    suggestionDiv.innerHTML = suggestionsHTML;
    
    chatMessages.appendChild(suggestionDiv);
    
    // æ·»åŠ å»ºè®®ç‚¹å‡»äº‹ä»¶
    const suggestionItems = suggestionDiv.querySelectorAll('.suggestion-item');
    suggestionItems.forEach(item => {
        item.addEventListener('click', function() {
            const suggestionText = this.querySelector('.suggestion-text').textContent;
            document.querySelector('.chat-input').value = suggestionText;
            document.querySelector('.chat-input').focus();
        });
    });
    
    scrollToBottom();
}

// å›è½¦å‘é€æ¶ˆæ¯
document.querySelector('.chat-input').addEventListener('keydown', function(e) {
    if (e.key === 'Enter' && !e.shiftKey) {
        e.preventDefault();
        document.querySelector('.send-button').click();
    }
});
</script>
</body>
</html>
